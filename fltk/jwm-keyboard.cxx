/*                 Joe's Window Manager Configuration
 *
 * This program configures JWM using tinyxml2 and FLTK
 *
 *         Copyright (C) 2014  Israel <israel@torios.org>
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 * This has been developed as a part of the ToriOS Project
 * This has been developed by Israel<israel@torios.org>
 *
 *
 * You may redistribute this, but you must keep this comment in place
 * Jesus is my Lord, and if you don't like it feel free to ignore it.
 */
// generated by Fast Light User Interface Designer (fluid) version 1.0302

#include <libintl.h>
#include "jwm-keyboard.h"

void KeyboardUI::cb_key_browser_i(Fl_Browser* o, void*) {
  int line_number = o->value();
}
void KeyboardUI::cb_key_browser(Fl_Browser* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->user_data()))->cb_key_browser_i(o,v);
}

void KeyboardUI::cb_Remove_i(Fl_Button*, void*) {
  flKeyboard keyboard;keyboard.loadTemp();
const char * keyShortcut = key_browser->text(key_browser->value());
if (keyShortcut !=NULL){
	keyboard.deleteKey(keyShortcut);
	key_browser->clear();
	keyboard.getKeys(key_browser);
	key_browser->redraw();
}
else{
	fl_message("Please click on an item to remove!");
};
}
void KeyboardUI::cb_Remove(Fl_Button* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->user_data()))->cb_Remove_i(o,v);
}

void KeyboardUI::cb_Cancel_i(Fl_Button*, void*) {
  flKeyboard keyboard; 
keyboard.cancel();
keyboard_window->hide();
UI ux;
ux.showSettings();
}
void KeyboardUI::cb_Cancel(Fl_Button* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->user_data()))->cb_Cancel_i(o,v);
}

void KeyboardUI::cb_OK_i(Fl_Button*, void*) {
  flKeyboard keyboard;
keyboard.loadTemp();
keyboard.saveChanges();
keyboard_window->hide();
UI ux;
ux.showSettings();
}
void KeyboardUI::cb_OK(Fl_Button* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->user_data()))->cb_OK_i(o,v);
}

#include <FL/Fl_Image.H>
static unsigned char idata_jsm[] =
{255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,80,80,48,16,107,107,55,112,121,121,62,196,123,123,64,204,123,123,64,
204,123,123,64,204,123,123,64,204,123,123,64,204,123,123,64,204,123,123,64,204,
124,123,64,204,124,123,64,204,124,123,64,204,124,124,64,204,124,124,64,204,124,
124,64,204,124,124,64,204,124,124,64,204,124,124,64,204,124,124,64,204,124,124,
64,204,124,124,64,204,124,124,64,204,124,124,64,204,124,124,64,204,124,124,64,
204,124,124,64,204,124,123,64,204,124,123,64,204,124,123,64,204,123,123,64,204,
123,123,64,204,123,123,64,204,123,123,64,204,123,123,64,204,123,123,64,204,123,
123,64,204,121,121,62,196,107,107,55,112,80,80,48,16,255,255,255,0,255,255,255,
0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,107,107,55,112,176,176,103,251,225,225,149,255,232,233,156,255,233,
233,156,255,233,233,156,255,233,233,156,255,233,233,157,255,234,233,157,255,234,
234,157,255,235,234,158,255,235,234,158,255,235,235,158,255,236,235,158,255,236,
235,159,255,236,235,159,255,236,235,159,255,236,235,159,255,236,235,159,255,236,
235,159,255,236,235,159,255,236,235,159,255,236,235,159,255,236,235,159,255,236,
235,159,255,236,235,159,255,236,235,158,255,235,235,158,255,235,234,158,255,235,
234,158,255,234,234,157,255,234,233,157,255,233,233,157,255,233,233,156,255,233,
233,156,255,233,233,156,255,232,233,156,255,225,225,149,255,176,176,103,251,107,
107,55,112,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,
0,255,255,255,0,255,255,255,0,255,255,255,0,121,121,61,196,220,221,136,255,
223,223,122,255,223,224,121,255,224,224,121,255,224,225,122,255,225,225,122,255,
225,225,123,255,226,226,123,255,226,226,123,255,227,226,124,255,227,226,124,255,
227,227,124,255,227,227,125,255,228,227,125,255,228,227,125,255,228,227,125,255,
228,227,125,255,228,227,125,255,228,228,125,255,228,228,125,255,228,227,125,255,
228,227,125,255,228,227,125,255,228,227,125,255,228,227,125,255,227,227,125,255,
227,227,124,255,227,226,124,255,227,226,124,255,226,226,123,255,226,226,123,255,
225,225,123,255,225,225,122,255,224,225,122,255,224,224,121,255,223,224,121,255,
223,223,122,255,220,221,136,255,121,121,61,196,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
121,121,61,204,223,224,129,255,222,223,119,255,222,223,120,255,223,223,120,255,
223,224,121,255,224,224,121,255,224,224,122,255,225,225,122,255,225,225,122,255,
225,225,123,255,226,226,123,255,226,226,123,255,226,226,123,255,227,226,124,255,
227,226,124,255,227,226,124,255,227,226,124,255,227,226,124,255,227,227,124,255,
227,227,124,255,227,226,124,255,227,226,124,255,227,226,124,255,227,226,124,255,
227,226,124,255,226,226,123,255,226,226,123,255,226,226,123,255,225,225,123,255,
225,225,122,255,225,225,122,255,224,224,122,255,224,224,121,255,223,224,121,255,
223,223,120,255,222,223,120,255,222,223,119,255,223,224,129,255,121,121,61,204,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,121,121,61,204,222,223,127,255,221,222,118,
255,221,222,119,255,222,223,119,255,222,223,120,255,223,223,120,255,223,224,121,
255,224,224,121,255,224,224,121,255,224,224,122,255,225,225,122,255,225,225,122,
255,225,225,122,255,225,225,123,255,225,225,123,255,226,225,123,255,226,226,123,
255,226,226,123,255,226,226,123,255,226,226,123,255,226,226,123,255,226,226,123,
255,226,225,123,255,225,225,123,255,225,225,123,255,225,225,122,255,225,225,122,
255,225,225,122,255,224,224,122,255,224,224,121,255,224,224,121,255,223,224,121,
255,223,223,120,255,222,223,120,255,222,223,119,255,221,222,119,255,221,222,118,
255,222,223,127,255,121,121,61,204,255,255,255,0,255,255,255,0,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,121,121,
61,204,221,223,127,255,220,221,117,255,220,221,118,255,221,222,118,255,221,222,
119,255,222,222,119,255,222,223,120,255,222,223,120,255,223,223,120,255,223,224,
121,255,223,224,121,255,224,224,121,255,224,224,121,255,224,224,121,255,224,225,
122,255,225,225,122,255,225,225,122,255,225,225,122,255,225,225,122,255,225,225,
122,255,225,225,122,255,225,225,122,255,225,225,122,255,224,225,122,255,224,224,
121,255,224,224,121,255,224,224,121,255,223,224,121,255,223,224,121,255,223,223,
120,255,222,223,120,255,222,223,120,255,222,222,119,255,221,222,119,255,221,222,
118,255,220,221,118,255,220,221,117,255,221,223,127,255,121,121,61,204,255,255,
255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,120,121,61,204,221,222,125,255,219,220,117,255,219,221,
117,255,220,221,117,255,220,221,118,255,221,222,118,255,221,222,119,255,221,222,
119,255,222,222,119,255,222,223,120,255,222,223,120,255,223,223,120,255,223,223,
120,255,223,223,120,255,223,224,121,255,223,224,121,255,223,224,121,255,223,224,
121,255,223,224,121,255,223,224,121,255,223,224,121,255,223,224,121,255,223,224,
121,255,223,224,121,255,223,223,120,255,223,223,120,255,223,223,120,255,222,223,
120,255,222,223,120,255,222,222,119,255,221,222,119,255,221,222,119,255,221,222,
118,255,220,221,118,255,220,221,117,255,219,221,117,255,219,220,117,255,221,222,
125,255,120,121,61,204,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,120,121,61,204,220,221,
124,255,218,219,116,255,218,220,116,255,219,220,117,255,219,220,117,255,220,221,
117,255,220,221,118,255,220,221,118,255,221,222,118,255,221,222,118,255,221,222,
119,255,221,222,119,255,222,222,119,255,222,223,119,255,222,223,119,255,222,223,
120,255,222,223,120,255,222,223,120,255,222,223,120,255,222,223,120,255,222,223,
120,255,222,223,120,255,222,223,120,255,222,223,119,255,222,223,119,255,222,222,
119,255,221,222,119,255,221,222,119,255,221,222,118,255,221,222,118,255,220,221,
118,255,220,221,118,255,220,221,117,255,219,220,117,255,219,220,117,255,218,220,
116,255,218,219,116,255,220,221,124,255,120,121,61,204,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,120,120,61,204,219,220,123,255,217,219,115,255,214,216,113,255,213,
214,113,255,211,213,113,255,211,213,112,255,212,213,113,255,212,213,113,255,213,
214,113,255,213,214,113,255,213,214,114,255,213,214,114,255,213,214,114,255,214,
215,114,255,214,215,114,255,214,215,114,255,214,215,115,255,214,215,115,255,214,
215,115,255,214,215,115,255,214,215,115,255,214,215,115,255,214,215,114,255,214,
215,114,255,214,215,114,255,213,214,114,255,213,214,114,255,213,214,114,255,213,
214,113,255,213,214,113,255,212,213,113,255,212,213,113,255,211,213,112,255,211,
213,113,255,213,214,113,255,214,216,113,255,217,219,115,255,219,220,123,255,120,
120,61,204,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,
0,255,255,255,0,255,255,255,0,255,255,255,0,120,120,61,204,218,219,122,255,
212,214,112,255,206,208,109,255,202,203,107,255,198,200,105,255,198,200,104,255,
199,200,105,255,199,200,105,255,199,200,105,255,200,200,105,255,200,200,106,255,
200,200,106,255,200,201,106,255,200,201,106,255,200,201,106,255,200,201,106,255,
200,201,106,255,200,201,107,255,200,201,107,255,200,201,107,255,200,201,107,255,
200,201,106,255,200,201,106,255,200,201,106,255,200,201,106,255,200,201,106,255,
200,200,106,255,200,200,106,255,200,200,105,255,199,200,105,255,199,200,105,255,
199,200,105,255,198,200,104,255,198,200,105,255,202,203,107,255,206,208,109,255,
212,214,112,255,218,219,122,255,120,120,61,204,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
120,120,60,204,215,216,121,255,206,208,108,255,196,198,103,255,183,184,97,255,
175,177,92,255,173,174,91,255,174,174,92,255,174,175,92,255,174,175,92,255,174,
175,92,255,174,175,93,255,174,176,93,255,174,176,93,255,174,176,93,255,174,176,
93,255,175,176,93,255,175,176,93,255,175,176,94,255,175,176,94,255,175,176,94,
255,175,176,94,255,175,176,93,255,175,176,93,255,174,176,93,255,174,176,93,255,
174,176,93,255,174,176,93,255,174,175,93,255,174,175,92,255,174,175,92,255,174,
175,92,255,174,174,92,255,173,174,91,255,175,177,92,255,183,184,97,255,196,198,
103,255,206,208,108,255,215,216,121,255,120,120,60,204,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,120,120,60,204,212,214,118,255,199,201,104,255,182,184,95,255,198,199,
142,255,244,244,233,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,244,244,
233,255,198,199,142,255,182,184,95,255,199,201,104,255,212,214,118,255,120,120,
60,204,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,119,120,60,204,210,212,116,255,195,
197,102,255,173,175,90,255,245,245,235,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,245,245,235,255,173,175,90,255,195,
197,102,255,210,212,116,255,119,120,60,204,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,119,
120,60,204,208,210,115,255,193,196,101,255,170,172,89,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,171,173,89,255,171,173,89,255,255,
255,255,255,255,255,255,255,172,174,90,255,172,174,90,255,255,255,255,255,255,
255,255,255,172,174,90,255,172,174,90,255,255,255,255,255,255,255,255,255,172,
174,90,255,172,174,90,255,255,255,255,255,255,255,255,255,172,174,90,255,172,
174,90,255,255,255,255,255,255,255,255,255,172,174,90,255,171,173,89,255,255,
255,255,255,255,255,255,255,171,173,89,255,170,173,89,255,255,255,255,255,255,
255,255,255,170,172,89,255,193,196,101,255,208,210,115,255,119,120,60,204,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
255,255,255,0,255,255,255,0,119,120,60,204,207,209,114,255,192,195,100,255,169,
171,88,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,170,
172,89,255,170,172,89,255,255,255,255,255,255,255,255,255,171,173,89,255,171,
173,89,255,255,255,255,255,255,255,255,255,171,173,89,255,171,173,89,255,255,
255,255,255,255,255,255,255,171,173,89,255,171,173,89,255,255,255,255,255,255,
255,255,255,171,173,89,255,171,173,89,255,255,255,255,255,255,255,255,255,171,
173,89,255,170,173,89,255,255,255,255,255,255,255,255,255,170,172,89,255,169,
172,88,255,255,255,255,255,255,255,255,255,169,171,88,255,192,195,100,255,207,
209,114,255,119,120,60,204,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,119,119,59,204,
206,209,113,255,191,194,99,255,168,170,88,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
168,170,88,255,191,194,99,255,206,209,113,255,119,119,59,204,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
255,255,255,0,119,119,59,204,205,208,112,255,191,193,99,255,168,169,87,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,168,169,87,255,191,193,99,255,205,208,112,255,119,
119,59,204,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,
0,255,255,255,0,255,255,255,0,255,255,255,0,118,119,59,204,204,207,111,255,
190,192,98,255,168,168,86,255,255,255,255,255,255,255,255,255,168,169,87,255,
168,169,87,255,255,255,255,255,255,255,255,255,168,170,88,255,168,170,88,255,
255,255,255,255,255,255,255,255,168,170,88,255,168,170,88,255,255,255,255,255,
255,255,255,255,168,171,88,255,168,171,88,255,255,255,255,255,255,255,255,255,
168,171,88,255,168,171,88,255,255,255,255,255,255,255,255,255,168,170,88,255,
168,170,88,255,255,255,255,255,255,255,255,255,168,170,87,255,168,170,87,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,168,168,86,255,
190,192,98,255,204,207,111,255,118,119,59,204,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
118,119,59,204,203,206,110,255,189,191,97,255,167,168,85,255,255,255,255,255,
255,255,255,255,168,168,86,255,168,169,86,255,255,255,255,255,255,255,255,255,
168,169,87,255,168,169,87,255,255,255,255,255,255,255,255,255,168,170,87,255,
168,170,87,255,255,255,255,255,255,255,255,255,168,170,87,255,168,170,87,255,
255,255,255,255,255,255,255,255,168,170,87,255,168,170,87,255,255,255,255,255,
255,255,255,255,168,169,87,255,168,169,87,255,255,255,255,255,255,255,255,255,
168,169,86,255,168,169,86,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,167,168,85,255,189,191,97,255,203,206,110,255,118,119,59,204,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,118,119,59,204,202,205,109,255,189,190,96,255,
166,168,84,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,166,168,84,255,189,190,96,255,
202,205,109,255,118,119,59,204,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,118,118,59,
204,201,204,108,255,188,190,95,255,165,168,83,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,165,168,83,255,188,190,95,255,201,204,108,255,118,118,59,204,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,118,118,58,204,201,203,108,255,187,189,94,255,164,167,82,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,165,168,83,
255,165,168,83,255,255,255,255,255,255,255,255,255,166,168,84,255,166,168,84,
255,255,255,255,255,255,255,255,255,166,168,84,255,166,168,84,255,255,255,255,
255,255,255,255,255,166,168,84,255,166,168,84,255,255,255,255,255,255,255,255,
255,166,168,84,255,166,168,84,255,255,255,255,255,255,255,255,255,166,168,84,
255,166,168,84,255,255,255,255,255,255,255,255,255,165,168,83,255,165,168,83,
255,255,255,255,255,255,255,255,255,164,167,82,255,187,189,94,255,201,203,108,
255,118,118,58,204,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,118,118,58,204,201,203,108,
255,186,189,93,255,163,166,82,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,164,167,82,255,164,167,82,255,255,255,255,255,255,255,255,
255,165,168,83,255,165,168,83,255,255,255,255,255,255,255,255,255,165,168,83,
255,165,168,83,255,255,255,255,255,255,255,255,255,165,168,83,255,165,168,83,
255,255,255,255,255,255,255,255,255,165,168,83,255,165,168,83,255,255,255,255,
255,255,255,255,255,165,168,83,255,165,167,83,255,255,255,255,255,255,255,255,
255,164,167,82,255,164,167,82,255,255,255,255,255,255,255,255,255,163,166,82,
255,186,189,93,255,201,203,108,255,118,118,58,204,255,255,255,0,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,116,118,58,204,200,202,107,255,185,188,92,255,162,165,81,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,162,165,81,255,185,188,92,255,200,202,107,255,116,118,58,
204,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,116,118,58,204,199,201,106,255,184,187,91,
255,161,164,80,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,161,164,80,255,184,187,91,
255,199,201,106,255,116,118,58,204,255,255,255,0,255,255,255,0,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,116,118,
58,204,198,201,105,255,184,186,90,255,161,163,79,255,255,255,255,255,255,255,
255,255,161,164,80,255,161,164,80,255,255,255,255,255,255,255,255,255,162,165,
81,255,162,165,81,255,255,255,255,255,255,255,255,255,162,165,81,255,162,165,
81,255,162,165,81,255,162,165,81,255,162,165,81,255,162,165,81,255,162,165,81,
255,162,165,81,255,162,165,81,255,162,165,81,255,255,255,255,255,255,255,255,
255,162,165,81,255,162,165,81,255,255,255,255,255,255,255,255,255,162,165,81,
255,161,164,80,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,161,163,79,255,184,186,90,255,198,201,105,255,116,118,58,204,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,116,118,56,204,197,200,103,255,183,185,89,255,160,163,78,
255,255,255,255,255,255,255,255,255,161,163,79,255,161,163,79,255,255,255,255,
255,255,255,255,255,161,164,80,255,161,164,80,255,255,255,255,255,255,255,255,
255,161,164,80,255,161,164,80,255,161,164,80,255,161,164,80,255,161,164,80,255,
161,164,80,255,161,164,80,255,161,164,80,255,161,164,80,255,161,164,80,255,255,
255,255,255,255,255,255,255,161,164,80,255,161,164,80,255,255,255,255,255,255,
255,255,255,161,164,80,255,161,164,79,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,160,163,78,255,183,185,89,255,197,200,103,255,116,
118,56,204,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,
0,255,255,255,0,255,255,255,0,255,255,255,0,116,116,56,204,196,199,102,255,
182,185,89,255,161,165,78,255,243,244,233,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,242,243,231,255,161,165,78,255,
182,185,89,255,196,199,102,255,116,116,56,204,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
115,116,56,204,196,199,102,255,184,188,89,255,168,171,81,255,190,190,133,255,
242,242,231,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,243,244,233,255,
190,190,133,255,168,170,81,255,184,188,89,255,196,199,102,255,115,116,56,204,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,115,116,56,204,198,201,102,255,189,193,91,255,
181,183,88,255,168,170,81,255,160,163,77,255,159,161,76,255,159,161,76,255,159,
161,76,255,160,161,77,255,160,161,77,255,160,161,77,255,160,161,77,255,160,161,
77,255,160,161,77,255,160,162,77,255,160,162,77,255,160,162,77,255,160,162,77,
255,160,162,77,255,160,162,77,255,160,162,77,255,160,162,77,255,160,162,77,255,
160,162,77,255,160,161,77,255,160,161,77,255,160,161,77,255,160,161,77,255,160,
161,77,255,160,161,77,255,159,161,76,255,159,161,76,255,159,161,76,255,160,163,
77,255,168,170,81,255,181,183,88,255,188,192,91,255,197,200,102,255,115,116,56,
204,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,115,116,56,204,199,203,102,255,193,196,92,
255,188,191,91,255,183,186,88,255,181,183,87,255,180,184,87,255,180,184,87,255,
180,184,87,255,181,184,88,255,181,184,88,255,181,184,88,255,181,184,88,255,181,
184,88,255,181,184,88,255,181,184,88,255,181,184,88,255,181,184,88,255,181,184,
88,255,181,184,88,255,181,184,88,255,181,184,88,255,181,184,88,255,181,184,88,
255,181,184,88,255,181,184,88,255,181,184,88,255,181,184,88,255,181,184,88,255,
181,184,88,255,181,184,88,255,180,184,87,255,180,184,87,255,180,184,87,255,181,
183,87,255,183,186,88,255,189,192,91,255,193,196,92,255,199,203,102,255,115,116,
56,204,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,115,116,56,204,198,202,101,255,195,
199,93,255,193,196,93,255,192,195,92,255,190,194,91,255,190,194,91,255,190,194,
91,255,191,194,92,255,191,194,92,255,191,194,92,255,191,194,92,255,191,194,92,
255,191,195,92,255,191,195,92,255,191,195,92,255,191,195,92,255,191,195,92,255,
191,195,92,255,191,195,92,255,191,195,92,255,191,195,92,255,191,195,92,255,191,
195,92,255,191,195,92,255,191,195,92,255,191,195,92,255,191,194,92,255,191,194,
92,255,191,194,92,255,191,194,92,255,191,194,92,255,190,194,91,255,190,194,91,
255,190,194,91,255,192,195,92,255,194,197,93,255,195,199,93,255,198,202,101,255,
115,116,56,204,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,255,255,255,0,115,115,55,204,197,201,100,255,
194,198,92,255,195,198,93,255,195,199,93,255,195,199,93,255,195,199,93,255,195,
199,93,255,196,199,94,255,196,199,94,255,196,199,94,255,196,199,94,255,196,200,
94,255,196,200,94,255,196,200,94,255,196,200,94,255,196,200,94,255,196,200,94,
255,196,200,94,255,196,200,94,255,196,200,94,255,196,200,94,255,196,200,94,255,
196,200,94,255,196,200,94,255,196,200,94,255,196,200,94,255,196,200,94,255,196,
199,94,255,196,199,94,255,196,199,94,255,196,199,94,255,195,199,93,255,195,199,
93,255,195,199,93,255,195,199,93,255,195,198,93,255,194,198,92,255,197,201,100,
255,115,115,55,204,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,115,115,55,204,196,200,99,
255,194,197,92,255,194,197,92,255,194,198,92,255,194,198,92,255,194,198,92,255,
194,198,92,255,195,198,93,255,195,198,93,255,195,199,93,255,195,199,93,255,195,
199,93,255,195,199,93,255,195,199,93,255,195,199,93,255,195,199,93,255,195,199,
93,255,195,199,93,255,195,199,93,255,195,199,93,255,195,199,93,255,195,199,93,
255,195,199,93,255,195,199,93,255,195,199,93,255,195,199,93,255,195,199,93,255,
195,199,93,255,195,199,93,255,195,198,93,255,195,198,93,255,194,198,92,255,194,
198,92,255,194,198,92,255,194,198,92,255,194,197,92,255,194,197,92,255,196,200,
99,255,115,115,55,204,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,114,115,55,204,195,199,
98,255,193,196,91,255,193,197,91,255,193,197,91,255,193,197,91,255,193,197,91,
255,193,197,91,255,194,197,92,255,194,197,92,255,194,198,92,255,194,198,92,255,
194,198,92,255,194,198,92,255,194,198,92,255,194,198,92,255,194,198,92,255,194,
198,92,255,194,198,92,255,194,198,92,255,194,198,92,255,194,198,92,255,194,198,
92,255,194,198,92,255,194,198,92,255,194,198,92,255,194,198,92,255,194,198,92,
255,194,198,92,255,194,198,92,255,194,197,92,255,194,197,92,255,193,197,91,255,
193,197,91,255,193,197,91,255,193,197,91,255,193,197,91,255,193,196,91,255,195,
199,98,255,114,115,55,204,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,
0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,114,115,55,204,194,
198,97,255,192,196,90,255,192,196,90,255,192,196,90,255,192,196,90,255,192,196,
90,255,193,196,91,255,193,196,91,255,193,197,91,255,193,197,91,255,193,197,91,
255,193,197,91,255,193,197,91,255,193,197,91,255,193,197,91,255,193,197,91,255,
193,197,91,255,193,197,91,255,193,197,91,255,193,197,91,255,193,197,91,255,193,
197,91,255,193,197,91,255,193,197,91,255,193,197,91,255,193,197,91,255,193,197,
91,255,193,197,91,255,193,197,91,255,193,197,91,255,193,196,91,255,193,196,91,
255,192,196,90,255,192,196,90,255,192,196,90,255,192,196,90,255,192,196,90,255,
194,198,97,255,114,115,55,204,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,114,115,54,204,
193,197,96,255,191,195,89,255,191,195,89,255,191,195,89,255,191,195,89,255,191,
195,89,255,191,195,89,255,192,196,90,255,192,196,90,255,192,196,90,255,192,196,
90,255,192,196,90,255,192,196,90,255,192,196,90,255,192,196,90,255,192,196,90,
255,192,196,90,255,192,196,90,255,192,196,90,255,192,196,90,255,192,196,90,255,
192,196,90,255,192,196,90,255,192,196,90,255,192,196,90,255,192,196,90,255,192,
196,90,255,192,196,90,255,192,196,90,255,192,196,90,255,192,196,90,255,191,195,
89,255,191,195,89,255,191,195,89,255,191,195,89,255,191,195,89,255,191,195,89,
255,193,197,96,255,114,115,54,204,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,64,64,64,4,110,111,53,202,
188,193,94,255,190,194,89,255,190,194,88,255,190,194,88,255,190,194,88,255,190,
194,88,255,190,194,88,255,191,195,89,255,191,195,89,255,191,195,89,255,191,195,
89,255,191,195,89,255,191,195,89,255,191,195,89,255,191,195,89,255,191,195,89,
255,191,195,89,255,191,195,89,255,191,195,89,255,191,195,89,255,191,195,89,255,
191,195,89,255,191,195,89,255,191,195,89,255,191,195,89,255,191,195,89,255,191,
195,89,255,191,195,89,255,191,195,89,255,191,195,89,255,191,195,89,255,190,194,
88,255,190,194,88,255,190,194,88,255,190,194,88,255,190,194,88,255,190,194,89,
255,188,193,94,255,110,111,53,202,64,64,64,4,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,18,18,18,14,26,26,26,50,79,79,42,159,152,
156,75,252,190,194,100,255,196,199,104,255,196,199,104,255,196,199,104,255,196,
199,104,255,196,200,105,255,196,200,105,255,196,200,105,255,196,200,105,255,196,
200,105,255,196,200,105,255,196,200,105,255,196,200,105,255,196,200,105,255,196,
200,105,255,196,200,105,255,196,200,105,255,196,200,105,255,196,200,105,255,196,
200,105,255,196,200,105,255,196,200,105,255,196,200,105,255,196,200,105,255,196,
200,105,255,196,200,105,255,196,200,105,255,196,200,105,255,196,200,105,255,196,
200,105,255,196,200,105,255,196,199,104,255,196,199,104,255,196,199,104,255,196,
199,104,255,190,194,100,255,152,156,75,252,79,79,42,159,26,26,26,50,18,18,18,14,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,18,18,18,14,26,26,26,50,
35,35,27,94,74,75,40,173,102,103,50,223,104,106,51,227,104,106,51,227,104,106,
51,227,104,106,51,227,104,106,51,227,104,106,51,227,104,106,51,227,104,106,51,
227,104,106,51,227,104,106,51,227,104,106,51,227,104,106,51,227,104,106,51,227,
104,106,51,227,104,106,51,227,104,106,51,227,104,106,51,227,104,106,51,227,104,
106,51,227,104,106,51,227,104,106,51,227,104,106,51,227,104,106,51,227,104,106,
51,227,104,106,51,227,104,106,51,227,104,106,51,227,104,106,51,227,104,106,51,
227,104,106,51,227,104,106,51,227,104,106,51,227,104,106,51,227,104,106,51,227,
102,103,50,223,74,75,40,173,35,35,27,94,26,26,26,50,18,18,18,14,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,64,64,64,4,20,20,20,25,
28,28,28,37,26,26,26,39,26,26,26,39,26,26,26,39,26,26,26,39,26,26,26,39,26,26,
26,39,26,26,26,39,26,26,26,39,26,26,26,39,26,26,26,39,26,26,26,39,26,26,26,39,
26,26,26,39,26,26,26,39,26,26,26,39,26,26,26,39,26,26,26,39,26,26,26,39,26,26,
26,39,26,26,26,39,26,26,26,39,26,26,26,39,26,26,26,39,26,26,26,39,26,26,26,39,
26,26,26,39,26,26,26,39,26,26,26,39,26,26,26,39,26,26,26,39,26,26,26,39,26,26,
26,39,26,26,26,39,26,26,26,39,26,26,26,39,26,26,26,39,28,28,28,37,20,20,20,25,
64,64,64,4,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,
0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,
255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,
255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,255,255,0,255,
255,255,0,255,255,255,0,255,255,255,0,255,255,255,0};
static Fl_RGB_Image image_jsm(idata_jsm, 48, 48, 4, 0);

void KeyboardUI::cb_C_i(Fl_Menu_*, void*) {
  const char* mod = "C";
mod_cb(mod);
}
void KeyboardUI::cb_C(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->user_data()))->cb_C_i(o,v);
}

void KeyboardUI::cb_A_i(Fl_Menu_*, void*) {
  const char* mod = "A";
mod_cb(mod);
}
void KeyboardUI::cb_A(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->user_data()))->cb_A_i(o,v);
}

void KeyboardUI::cb_mod4_i(Fl_Menu_*, void*) {
  const char* mod = "4";
mod_cb(mod);
}
void KeyboardUI::cb_mod4(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->user_data()))->cb_mod4_i(o,v);
}

void KeyboardUI::cb_S_i(Fl_Menu_*, void*) {
  const char* mod = "S";
mod_cb(mod);
}
void KeyboardUI::cb_S(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->user_data()))->cb_S_i(o,v);
}

unsigned char KeyboardUI::menu_key_mod_i18n_done = 0;
Fl_Menu_Item KeyboardUI::menu_key_mod[] = {
 {"Ctrl", 0,  (Fl_Callback*)KeyboardUI::cb_C, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"Alt", 0,  (Fl_Callback*)KeyboardUI::cb_A, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"Super", 0,  (Fl_Callback*)KeyboardUI::cb_mod4, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"Shift", 0,  (Fl_Callback*)KeyboardUI::cb_S, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {0,0,0,0,0,0,0,0,0}
};
Fl_Menu_Item* KeyboardUI::C = KeyboardUI::menu_key_mod + 0;
Fl_Menu_Item* KeyboardUI::A = KeyboardUI::menu_key_mod + 1;
Fl_Menu_Item* KeyboardUI::mod4 = KeyboardUI::menu_key_mod + 2;
Fl_Menu_Item* KeyboardUI::S = KeyboardUI::menu_key_mod + 3;

void KeyboardUI::cb_next_i(Fl_Menu_*, void*) {
  const char * action = "next";
menu_cb(action);
}
void KeyboardUI::cb_next(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->parent()->user_data()))->cb_next_i(o,v);
}

void KeyboardUI::cb_nextstacked_i(Fl_Menu_*, void*) {
  const char * action = "nextstacked";
menu_cb(action);
}
void KeyboardUI::cb_nextstacked(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->parent()->user_data()))->cb_nextstacked_i(o,v);
}

void KeyboardUI::cb_prev_i(Fl_Menu_*, void*) {
  const char * action = "prev";
menu_cb(action);
}
void KeyboardUI::cb_prev(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->parent()->user_data()))->cb_prev_i(o,v);
}

void KeyboardUI::cb_prevstacked_i(Fl_Menu_*, void*) {
  const char * action = "prevstacked";
menu_cb(action);
}
void KeyboardUI::cb_prevstacked(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->parent()->user_data()))->cb_prevstacked_i(o,v);
}

void KeyboardUI::cb_close_i(Fl_Menu_*, void*) {
  const char * action = "close";
menu_cb(action);
}
void KeyboardUI::cb_close(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->parent()->user_data()))->cb_close_i(o,v);
}

void KeyboardUI::cb_fullscreen_i(Fl_Menu_*, void*) {
  const char * action = "fullscreen";
menu_cb(action);
}
void KeyboardUI::cb_fullscreen(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->parent()->user_data()))->cb_fullscreen_i(o,v);
}

void KeyboardUI::cb_minimize_i(Fl_Menu_*, void*) {
  const char * action = "minimize";
menu_cb(action);
}
void KeyboardUI::cb_minimize(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->parent()->user_data()))->cb_minimize_i(o,v);
}

void KeyboardUI::cb_maximize_i(Fl_Menu_*, void*) {
  const char * action = "maximize";
menu_cb(action);
}
void KeyboardUI::cb_maximize(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->parent()->user_data()))->cb_maximize_i(o,v);
}

void KeyboardUI::cb_shade_i(Fl_Menu_*, void*) {
  const char * action = "shade";
menu_cb(action);
}
void KeyboardUI::cb_shade(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->parent()->user_data()))->cb_shade_i(o,v);
}

void KeyboardUI::cb_move_i(Fl_Menu_*, void*) {
  const char * action = "move";
menu_cb(action);
}
void KeyboardUI::cb_move(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->parent()->user_data()))->cb_move_i(o,v);
}

void KeyboardUI::cb_resize_i(Fl_Menu_*, void*) {
  const char * action = "resize";
menu_cb(action);
}
void KeyboardUI::cb_resize(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->parent()->user_data()))->cb_resize_i(o,v);
}

void KeyboardUI::cb_window_i(Fl_Menu_*, void*) {
  const char * action = "window";
menu_cb(action);
}
void KeyboardUI::cb_window(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->parent()->user_data()))->cb_window_i(o,v);
}

void KeyboardUI::cb_root_menu_apps_i(Fl_Menu_*, void*) {
  const char * action = "root:5";
menu_cb(action);
}
void KeyboardUI::cb_root_menu_apps(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->parent()->user_data()))->cb_root_menu_apps_i(o,v);
}

void KeyboardUI::cb_root_menu_places_i(Fl_Menu_*, void*) {
  const char * action = "root:7";
menu_cb(action);
}
void KeyboardUI::cb_root_menu_places(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->parent()->user_data()))->cb_root_menu_places_i(o,v);
}

void KeyboardUI::cb_root_menu_shutdown_i(Fl_Menu_*, void*) {
  const char * action = "root:9";
menu_cb(action);
}
void KeyboardUI::cb_root_menu_shutdown(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->parent()->user_data()))->cb_root_menu_shutdown_i(o,v);
}

void KeyboardUI::cb_rdesktop_i(Fl_Menu_*, void*) {
  const char * action = "rdesktop";
menu_cb(action);
}
void KeyboardUI::cb_rdesktop(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->parent()->user_data()))->cb_rdesktop_i(o,v);
}

void KeyboardUI::cb_ldesktop_i(Fl_Menu_*, void*) {
  const char * action = "ldesktop";
menu_cb(action);
}
void KeyboardUI::cb_ldesktop(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->parent()->user_data()))->cb_ldesktop_i(o,v);
}

void KeyboardUI::cb_udesktop_i(Fl_Menu_*, void*) {
  const char * action = "udesktop";
menu_cb(action);
}
void KeyboardUI::cb_udesktop(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->parent()->user_data()))->cb_udesktop_i(o,v);
}

void KeyboardUI::cb_ddesktop_i(Fl_Menu_*, void*) {
  const char * action = "ddesktop";
menu_cb(action);
}
void KeyboardUI::cb_ddesktop(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->parent()->user_data()))->cb_ddesktop_i(o,v);
}

void KeyboardUI::cb_restart_i(Fl_Menu_*, void*) {
  const char * action = "restart";
menu_cb(action);
}
void KeyboardUI::cb_restart(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->parent()->user_data()))->cb_restart_i(o,v);
}

void KeyboardUI::cb_exit_i(Fl_Menu_*, void*) {
  const char * action = "exit";
menu_cb(action);
}
void KeyboardUI::cb_exit(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->parent()->user_data()))->cb_exit_i(o,v);
}

void KeyboardUI::cb_showtray_i(Fl_Menu_*, void*) {
  const char * action = "showtray";
menu_cb(action);
}
void KeyboardUI::cb_showtray(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->parent()->user_data()))->cb_showtray_i(o,v);
}

unsigned char KeyboardUI::menu_Action_i18n_done = 0;
Fl_Menu_Item KeyboardUI::menu_Action[] = {
 {"move to the next window in the task list", 0,  (Fl_Callback*)KeyboardUI::cb_next, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"move to the next window in the stacking order", 0,  (Fl_Callback*)KeyboardUI::cb_nextstacked, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"move to the previous window in the task list", 0,  (Fl_Callback*)KeyboardUI::cb_prev, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"move to the previous window in the stacking order", 0,  (Fl_Callback*)KeyboardUI::cb_prevstacked, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"close window", 0,  (Fl_Callback*)KeyboardUI::cb_close, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"fullscreen window", 0,  (Fl_Callback*)KeyboardUI::cb_fullscreen, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"minimize window", 0,  (Fl_Callback*)KeyboardUI::cb_minimize, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"maximize window", 0,  (Fl_Callback*)KeyboardUI::cb_maximize, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"roll up window", 0,  (Fl_Callback*)KeyboardUI::cb_shade, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"move window", 0,  (Fl_Callback*)KeyboardUI::cb_move, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"resize window", 0,  (Fl_Callback*)KeyboardUI::cb_resize, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"show window menu", 0,  (Fl_Callback*)KeyboardUI::cb_window, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"Show Application menu", 0,  (Fl_Callback*)KeyboardUI::cb_root_menu_apps, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"Show Places Menu", 0,  (Fl_Callback*)KeyboardUI::cb_root_menu_places, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"Show Shutdown menu", 0,  (Fl_Callback*)KeyboardUI::cb_root_menu_shutdown, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"move one desktop to the right", 0,  (Fl_Callback*)KeyboardUI::cb_rdesktop, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"move one desktop to the left", 0,  (Fl_Callback*)KeyboardUI::cb_ldesktop, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"move one desktop up", 0,  (Fl_Callback*)KeyboardUI::cb_udesktop, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"move one desktop down", 0,  (Fl_Callback*)KeyboardUI::cb_ddesktop, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"restart the Window Manager", 0,  (Fl_Callback*)KeyboardUI::cb_restart, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"exit the Window Manager", 0,  (Fl_Callback*)KeyboardUI::cb_exit, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"Show any hidden Panels", 0,  (Fl_Callback*)KeyboardUI::cb_showtray, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {0,0,0,0,0,0,0,0,0}
};
Fl_Menu_Item* KeyboardUI::next = KeyboardUI::menu_Action + 0;
Fl_Menu_Item* KeyboardUI::nextstacked = KeyboardUI::menu_Action + 1;
Fl_Menu_Item* KeyboardUI::prev = KeyboardUI::menu_Action + 2;
Fl_Menu_Item* KeyboardUI::prevstacked = KeyboardUI::menu_Action + 3;
Fl_Menu_Item* KeyboardUI::close = KeyboardUI::menu_Action + 4;
Fl_Menu_Item* KeyboardUI::fullscreen = KeyboardUI::menu_Action + 5;
Fl_Menu_Item* KeyboardUI::minimize = KeyboardUI::menu_Action + 6;
Fl_Menu_Item* KeyboardUI::maximize = KeyboardUI::menu_Action + 7;
Fl_Menu_Item* KeyboardUI::shade = KeyboardUI::menu_Action + 8;
Fl_Menu_Item* KeyboardUI::move = KeyboardUI::menu_Action + 9;
Fl_Menu_Item* KeyboardUI::resize = KeyboardUI::menu_Action + 10;
Fl_Menu_Item* KeyboardUI::window = KeyboardUI::menu_Action + 11;
Fl_Menu_Item* KeyboardUI::root_menu_apps = KeyboardUI::menu_Action + 12;
Fl_Menu_Item* KeyboardUI::root_menu_places = KeyboardUI::menu_Action + 13;
Fl_Menu_Item* KeyboardUI::root_menu_shutdown = KeyboardUI::menu_Action + 14;
Fl_Menu_Item* KeyboardUI::rdesktop = KeyboardUI::menu_Action + 15;
Fl_Menu_Item* KeyboardUI::ldesktop = KeyboardUI::menu_Action + 16;
Fl_Menu_Item* KeyboardUI::udesktop = KeyboardUI::menu_Action + 17;
Fl_Menu_Item* KeyboardUI::ddesktop = KeyboardUI::menu_Action + 18;
Fl_Menu_Item* KeyboardUI::restart = KeyboardUI::menu_Action + 19;
Fl_Menu_Item* KeyboardUI::exit = KeyboardUI::menu_Action + 20;
Fl_Menu_Item* KeyboardUI::showtray = KeyboardUI::menu_Action + 21;

void KeyboardUI::cb__i(Fl_Button*, void*) {
  action_cb();
}
void KeyboardUI::cb_(Fl_Button* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->parent()->user_data()))->cb__i(o,v);
}

void KeyboardUI::cb_Choose_i(Fl_Button*, void*) {
  const char * file = "/usr/bin/";
const char * label="Choose a program";
const char *filter="*";
int r = 0;
const char *result = fl_file_chooser(label,filter,file,r);
if(result!=NULL){
	std::string String = result;
	unsigned found = String.find_last_of("/");
	String.erase(0,found+1);
	result = String.c_str();
	program_name->value(result);
};
}
void KeyboardUI::cb_Choose(Fl_Button* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->parent()->user_data()))->cb_Choose_i(o,v);
}

void KeyboardUI::cb_1_i(Fl_Button*, void*) {
  program_cb();
}
void KeyboardUI::cb_1(Fl_Button* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->parent()->user_data()))->cb_1_i(o,v);
}

void KeyboardUI::cb_Ctrl_i(Fl_Menu_*, void*) {
  const char* mod = "C";
mod2_cb(mod);
}
void KeyboardUI::cb_Ctrl(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->user_data()))->cb_Ctrl_i(o,v);
}

void KeyboardUI::cb_Alt_i(Fl_Menu_*, void*) {
  const char* mod = "A";
mod2_cb(mod);
}
void KeyboardUI::cb_Alt(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->user_data()))->cb_Alt_i(o,v);
}

void KeyboardUI::cb_Super_i(Fl_Menu_*, void*) {
  const char* mod = "4";
mod2_cb(mod);
}
void KeyboardUI::cb_Super(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->user_data()))->cb_Super_i(o,v);
}

void KeyboardUI::cb_Shift_i(Fl_Menu_*, void*) {
  const char* mod = "S";
mod2_cb(mod);
}
void KeyboardUI::cb_Shift(Fl_Menu_* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->user_data()))->cb_Shift_i(o,v);
}

unsigned char KeyboardUI::menu_key_mod2_i18n_done = 0;
Fl_Menu_Item KeyboardUI::menu_key_mod2[] = {
 {"Ctrl", 0,  (Fl_Callback*)KeyboardUI::cb_Ctrl, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"Alt", 0,  (Fl_Callback*)KeyboardUI::cb_Alt, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"Super", 0,  (Fl_Callback*)KeyboardUI::cb_Super, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"Shift", 0,  (Fl_Callback*)KeyboardUI::cb_Shift, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {0,0,0,0,0,0,0,0,0}
};

void KeyboardUI::cb_Main_i(Fl_Button*, void*) {
  flKeyboard keyboard; 
keyboard.cancel();
keyboard_window->hide();
UI ux;
ux.showSettings();
}
void KeyboardUI::cb_Main(Fl_Button* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->user_data()))->cb_Main_i(o,v);
}

void KeyboardUI::cb_Modifier_i(Fl_Button*, void*) {
  grabber_window()->show();
}
void KeyboardUI::cb_Modifier(Fl_Button* o, void* v) {
  ((KeyboardUI*)(o->parent()->parent()->user_data()))->cb_Modifier_i(o,v);
}

void KeyboardUI::cb_2_i(Fl_Double_Window*, void*) {
  key_event();
}
void KeyboardUI::cb_2(Fl_Double_Window* o, void* v) {
  ((KeyboardUI*)(o->user_data()))->cb_2_i(o,v);
}

Fl_Double_Window* KeyboardUI::make_window() {
  { keyboard_window = new Fl_Double_Window(495, 590, gettext("Keyboard Settings"));
    keyboard_window->color((Fl_Color)31);
    keyboard_window->user_data((void*)(this));
    { Fl_Scroll* o = new Fl_Scroll(0, 0, 500, 590);
      o->color((Fl_Color)31);
      { Fl_Browser* o = key_browser = new Fl_Browser(15, 95, 460, 145);
        key_browser->box(FL_GTK_DOWN_BOX);
        key_browser->selection_color((Fl_Color)80);
        key_browser->callback((Fl_Callback*)cb_key_browser);
        o->type(FL_SELECT_BROWSER);
        static int widths[] = {35,75,105,0};o->column_widths(widths);
        flKeyboard keyboard;keyboard.loadTemp();
        keyboard.getKeys(key_browser);
      } // Fl_Browser* key_browser
      { Fl_Button* o = new Fl_Button(140, 245, 170, 30, gettext("Remove Selected Item"));
        o->box(FL_GTK_UP_BOX);
        o->callback((Fl_Callback*)cb_Remove);
      } // Fl_Button* o
      { key = new Fl_Input(325, 290, 135, 30, gettext("Key"));
        key->box(FL_GTK_DOWN_BOX);
      } // Fl_Input* key
      { Fl_Button* o = new Fl_Button(340, 550, 65, 30, gettext("Cancel"));
        o->box(FL_GTK_UP_BOX);
        o->color((Fl_Color)80);
        o->selection_color((Fl_Color)81);
        o->labelcolor(FL_BACKGROUND2_COLOR);
        o->callback((Fl_Callback*)cb_Cancel);
      } // Fl_Button* o
      { Fl_Button* o = new Fl_Button(415, 550, 45, 30, gettext("OK"));
        o->tooltip(gettext("Write to configuration file"));
        o->box(FL_GTK_UP_BOX);
        o->color((Fl_Color)61);
        o->selection_color((Fl_Color)59);
        o->labelcolor((Fl_Color)55);
        o->callback((Fl_Callback*)cb_OK);
      } // Fl_Button* o
      { Fl_Button* o = new Fl_Button(335, 40, 115, 25, gettext("Choose Layout"));
        o->deactivate();
      } // Fl_Button* o
      { Fl_Box* o = new Fl_Box(110, 0, 235, 80, gettext("Keyboard  "));
        o->image(image_jsm);
        o->labelfont(1);
        o->labelsize(18);
        o->align(Fl_Align(288));
      } // Fl_Box* o
      { key_mod = new Fl_Menu_Button(20, 290, 195, 30, gettext("Choose a Key Modifier"));
        key_mod->tooltip(gettext("These are keys like Ctrl, Alt, Shift, and Super (Windows or Apple key)"));
        key_mod->box(FL_GTK_UP_BOX);
        if (!menu_key_mod_i18n_done) {
          int i=0;
          for ( ; i<4; i++)
            if (menu_key_mod[i].label())
              menu_key_mod[i].label(gettext(menu_key_mod[i].label()));
          menu_key_mod_i18n_done = 1;
        }
        key_mod->menu(menu_key_mod);
      } // Fl_Menu_Button* key_mod
      { Fl_Group* o = new Fl_Group(270, 340, 205, 140);
        o->box(FL_GTK_DOWN_BOX);
        { new Fl_Box(290, 350, 150, 30, gettext("Or, Choose an Action"));
        } // Fl_Box* o
        { Fl_Menu_Button* o = new Fl_Menu_Button(300, 375, 125, 25, gettext("Action"));
          o->box(FL_GTK_UP_BOX);
          o->selection_color((Fl_Color)80);
          if (!menu_Action_i18n_done) {
            int i=0;
            for ( ; i<22; i++)
              if (menu_Action[i].label())
                menu_Action[i].label(gettext(menu_Action[i].label()));
            menu_Action_i18n_done = 1;
          }
          o->menu(menu_Action);
        } // Fl_Menu_Button* o
        { Fl_Button* o = new Fl_Button(435, 440, 35, 30, gettext("@+"));
          o->box(FL_GTK_UP_BOX);
          o->callback((Fl_Callback*)cb_);
        } // Fl_Button* o
        { action_output = new Fl_Output(280, 440, 145, 30, gettext("Action"));
          action_output->box(FL_GTK_DOWN_BOX);
          action_output->align(Fl_Align(FL_ALIGN_TOP));
        } // Fl_Output* action_output
        o->end();
      } // Fl_Group* o
      { Fl_Group* o = new Fl_Group(25, 370, 200, 200);
        o->box(FL_GTK_DOWN_BOX);
        { new Fl_Box(30, 390, 195, 25, gettext("Choose a Program"));
        } // Fl_Box* o
        { Fl_Button* o = new Fl_Button(42, 420, 170, 30, gettext("Choose New Program"));
          o->tooltip(gettext("Choose a program to add"));
          o->box(FL_GTK_UP_BOX);
          o->callback((Fl_Callback*)cb_Choose);
        } // Fl_Button* o
        { program_name = new Fl_Input(75, 515, 135, 30, gettext("You can edit the program arguments here"));
          program_name->box(FL_GTK_DOWN_BOX);
          program_name->align(Fl_Align(129));
        } // Fl_Input* program_name
        { Fl_Button* o = new Fl_Button(30, 515, 35, 30, gettext("@+"));
          o->box(FL_GTK_UP_BOX);
          o->callback((Fl_Callback*)cb_1);
        } // Fl_Button* o
        o->end();
      } // Fl_Group* o
      { mod_output = new Fl_Output(220, 290, 50, 30);
        mod_output->box(FL_GTK_DOWN_BOX);
      } // Fl_Output* mod_output
      { key_mod2 = new Fl_Menu_Button(20, 330, 230, 30, gettext("Choose a 2nd Key Modifier"));
        key_mod2->tooltip(gettext("This is optional"));
        key_mod2->box(FL_GTK_UP_BOX);
        if (!menu_key_mod2_i18n_done) {
          int i=0;
          for ( ; i<4; i++)
            if (menu_key_mod2[i].label())
              menu_key_mod2[i].label(gettext(menu_key_mod2[i].label()));
          menu_key_mod2_i18n_done = 1;
        }
        key_mod2->menu(menu_key_mod2);
      } // Fl_Menu_Button* key_mod2
      { Fl_Button* o = new Fl_Button(290, 510, 190, 25, gettext("@<-  Main Settings Window"));
        o->box(FL_GTK_UP_BOX);
        o->callback((Fl_Callback*)cb_Main);
      } // Fl_Button* o
      { Fl_Button* o = new Fl_Button(20, 255, 105, 25, gettext("Modifier"));
        o->callback((Fl_Callback*)cb_Modifier);
        o->hide();
      } // Fl_Button* o
      o->end();
    } // Fl_Scroll* o
    keyboard_window->end();
    keyboard_window->resizable(keyboard_window);
  } // Fl_Double_Window* keyboard_window
  return keyboard_window;
}

void KeyboardUI::menu_cb(const char* action) {
  action_output->value(action);
}

void KeyboardUI::mod_cb(const char* mod) {
  mod_output->value(mod);
}

void KeyboardUI::mod2_cb(const char* mod) {
  const char* test = mod_output->value();
  if(test !=NULL){
  	std::string modifier = mod_output->value();
  	std::string inputMod = mod;
  	modifier += mod;
  	mod_output->value(modifier.c_str());
  }
}

void KeyboardUI::program_cb() {
  std::string action ="exec:";
  const char * test =program_name->value();
  if(test!=NULL){
  	std::string p_name =program_name->value();
  	action +=p_name;
  	add_cb(action);
  }
}

void KeyboardUI::action_cb() {
  std::string action;
  const char * test =action_output->value();
  if(test!=NULL){
  	action = test;
  	add_cb(action);
  }
}

void KeyboardUI::add_cb(std::string action) {
  flKeyboard keyboard;
  keyboard.loadTemp();
  const char* keyInput = key->value();
  if((action.c_str())!=NULL && keyInput !=NULL){
  	const char* mod = mod_output->value();
  	if(mod!=NULL){
  		keyboard.addKey(mod,keyInput,action.c_str());
  		std::cout<<mod<<'\t'<<keyInput<<'\t'<<action<<'\n';
  	}
  	else{	
  		keyboard.addKey(keyInput,action.c_str());
  		std::cout<<keyInput<<'\t'<<action<<'\n';
  	}
  }
}

Fl_Double_Window* KeyboardUI::grabber_window() {
  Fl_Double_Window* w;
  { Fl_Double_Window* o = new Fl_Double_Window(225, 105);
    w = o;
    o->callback((Fl_Callback*)cb_2, (void*)(this));
    o->when(FL_WHEN_RELEASE_ALWAYS);
    { mod_grab = new Fl_Output(25, 25, 70, 25, gettext("Modifier"));
      mod_grab->align(Fl_Align(FL_ALIGN_TOP));
    } // Fl_Output* mod_grab
    { Fl_Output* o = new Fl_Output(110, 25, 95, 25, gettext("Shortcut"));
      o->align(Fl_Align(FL_ALIGN_TOP));
    } // Fl_Output* o
    { new Fl_Button(60, 70, 80, 25, gettext("OK"));
    } // Fl_Button* o
    key_event();
    o->end();
  } // Fl_Double_Window* o
  return w;
}

void KeyboardUI::key_event() {
  int alt=Fl::event_alt();
  int ctrl = Fl::event_ctrl();
  int shift = Fl::event_shift();
  if (alt !=0 || ctrl !=0 || shift !=0){
  mod_grab->value("yup");
  }
}
