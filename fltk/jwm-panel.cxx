/*                 Joe's Window Manager Configuration
 *
 * This program configures JWM using pugixml and FLTK
 *
 *         Copyright (C) 2016  Israel <israeldahl@gmail.com>
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 * This has been developed as a part of the ToriOS Project
 *
 *
 * You may redistribute this, but you must keep this comment in place
 * Jesus is my Lord, and if you don't like it feel free to ignore it.
 */
// generated by Fast Light User Interface Designer (fluid) version 1.0303

#include <libintl.h>
#include "jwm-panel.h"

void PanelUI::cb_OK_i(Fl_Button*, void*) {
  addSpacer(spacer_w->value(),spacer_h->value(),BUTTON_NUM);
add_spacer_win->hide();
}
void PanelUI::cb_OK(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_OK_i(o,v);
}

void PanelUI::cb_panel_chooser_i(Fl_Menu_Button* o, void*) {
  panel_menu_button_label(o);
}
void PanelUI::cb_panel_chooser(Fl_Menu_Button* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->user_data()))->cb_panel_chooser_i(o,v);
}

void PanelUI::cb_Add_i(Fl_Menu_*, void*) {
  if((numPanels())>=4){
  new_panel_window()->show();
}
else{
  addPanel();
  Menu_CB(numPanels());
};
}
void PanelUI::cb_Add(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->user_data()))->cb_Add_i(o,v);
}

void PanelUI::cb_Panel_i(Fl_Menu_*, void*) {
  Menu_CB(1);
}
void PanelUI::cb_Panel(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->user_data()))->cb_Panel_i(o,v);
}

void PanelUI::cb_Panel1_i(Fl_Menu_*, void*) {
  Menu_CB(2);
}
void PanelUI::cb_Panel1(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->user_data()))->cb_Panel1_i(o,v);
}

void PanelUI::cb_Panel2_i(Fl_Menu_*, void*) {
  Menu_CB(3);
}
void PanelUI::cb_Panel2(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->user_data()))->cb_Panel2_i(o,v);
}

void PanelUI::cb_Panel3_i(Fl_Menu_*, void*) {
  Menu_CB(4);
}
void PanelUI::cb_Panel3(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->user_data()))->cb_Panel3_i(o,v);
}

void PanelUI::cb_Remove_i(Fl_Menu_*, void*) {
  deletePanel();
int a = numPanels();
Menu_CB(a);
}
void PanelUI::cb_Remove(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->user_data()))->cb_Remove_i(o,v);
}

unsigned char PanelUI::menu_panel_chooser_i18n_done = 0;
Fl_Menu_Item PanelUI::menu_panel_chooser[] = {
 {"Add a Panel  +", 0,  (Fl_Callback*)PanelUI::cb_Add, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"Panel 1", 0,  (Fl_Callback*)PanelUI::cb_Panel, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"Panel 2", 0,  (Fl_Callback*)PanelUI::cb_Panel1, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"Panel 3", 0,  (Fl_Callback*)PanelUI::cb_Panel2, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"Panel 4", 0,  (Fl_Callback*)PanelUI::cb_Panel3, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"Remove Current  Panel", 0,  (Fl_Callback*)PanelUI::cb_Remove, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {0,0,0,0,0,0,0,0,0}
};

void PanelUI::cb__i(Fl_Button*, void*) {
  remove_app(app_browser);
}
void PanelUI::cb_(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb__i(o,v);
}

void PanelUI::cb_app_browser_i(Fl_Browser*, void*) {
  unsigned int appLine=app_browser->value();
unsigned int size =app_browser->size();
if(appLine <= size && appLine !=0){
  std::string result=app_browser->text(app_browser->value());
  //Do I really want to have clicking open the config?
 // config_Item(result);
};
}
void PanelUI::cb_app_browser(Fl_Browser* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_app_browser_i(o,v);
}

void PanelUI::cb_1_i(Fl_Button*, void*) {
  unsigned int appLine=app_browser->value();
unsigned int size =app_browser->size();
if(appLine <= size && appLine !=0){
  std::string result=app_browser->text(app_browser->value());
  config_Item(result);
};
}
void PanelUI::cb_1(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_1_i(o,v);
}

#include <FL/Fl_Image.H>
static const unsigned char idata_gear16[] =
{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,148,0,255,0,252,0,252,0,255,0,146,0,
2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,19,0,48,0,3,0,0,0,2,0,149,
0,255,0,255,0,255,0,255,0,147,0,2,0,0,0,2,0,24,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,20,0,151,0,218,0,79,0,0,0,2,0,149,0,255,0,255,0,255,0,255,0,147,0,1,0,0,0,
69,0,193,0,96,0,2,0,0,0,0,0,0,0,0,0,0,0,22,0,156,0,251,0,255,0,221,0,75,0,22,0,
169,0,255,0,255,0,255,0,255,0,167,0,22,0,73,0,217,0,255,0,231,0,89,0,2,0,0,0,0,
0,0,0,24,0,162,0,252,0,255,0,255,0,255,0,224,0,199,0,245,0,255,0,255,0,255,0,
255,0,245,0,200,0,225,0,255,0,255,0,255,0,228,0,85,0,2,0,0,0,0,0,46,0,212,0,255,
0,255,0,255,0,255,0,255,0,255,0,255,0,255,0,255,0,255,0,255,0,255,0,255,0,255,
0,255,0,255,0,255,0,255,0,196,0,25,0,0,0,0,0,0,0,71,0,219,0,255,0,255,0,255,0,
255,0,255,0,246,0,209,0,172,0,172,0,209,0,246,0,255,0,255,0,255,0,255,0,255,0,
223,0,83,0,3,0,0,0,0,0,0,0,0,0,76,0,227,0,255,0,255,0,255,0,210,0,95,0,25,0,9,0,
10,0,25,0,95,0,210,0,255,0,255,0,255,0,225,0,77,0,1,0,0,0,0,0,2,0,2,0,0,0,23,0,
203,0,255,0,255,0,210,0,54,0,0,0,0,0,0,0,0,0,0,0,0,0,54,0,210,0,255,0,255,0,202,
0,23,0,0,0,2,0,2,0,147,0,149,0,148,0,169,0,246,0,255,0,246,0,94,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,94,0,246,0,255,0,246,0,169,0,148,0,149,0,147,0,254,0,255,
0,255,0,255,0,255,0,255,0,207,0,24,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,25,0,207,
0,255,0,255,0,255,0,255,0,255,0,254,0,252,0,255,0,255,0,255,0,255,0,255,0,170,
0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,170,0,255,0,255,0,255,0,255,0,255,0,
252,0,252,0,255,0,255,0,255,0,255,0,255,0,170,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,9,0,170,0,255,0,255,0,255,0,255,0,255,0,252,0,254,0,255,0,255,0,255,0,255,
0,255,0,207,0,24,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,25,0,207,0,255,0,255,0,255,
0,255,0,255,0,254,0,144,0,146,0,144,0,166,0,245,0,255,0,246,0,94,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,94,0,246,0,255,0,246,0,167,0,144,0,146,0,144,0,1,0,1,0,
0,0,36,0,220,0,255,0,255,0,210,0,54,0,0,0,0,0,0,0,0,0,0,0,0,0,54,0,210,0,255,
0,255,0,193,0,20,0,0,0,1,0,1,0,0,0,0,0,19,0,148,0,249,0,255,0,255,0,255,0,210,
0,95,0,25,0,9,0,10,0,25,0,95,0,210,0,255,0,255,0,255,0,187,0,26,0,0,0,0,0,0,0,
0,0,24,0,156,0,250,0,255,0,255,0,255,0,255,0,255,0,246,0,209,0,172,0,172,0,
209,0,246,0,255,0,255,0,255,0,255,0,253,0,162,0,23,0,0,0,0,0,0,0,96,0,246,0,255,
0,255,0,255,0,255,0,255,0,255,0,255,0,255,0,255,0,255,0,255,0,255,0,255,0,255,
0,255,0,255,0,255,0,253,0,142,0,6,0,0,0,0,0,22,0,158,0,252,0,255,0,255,0,250,
0,183,0,191,0,246,0,255,0,255,0,255,0,255,0,244,0,218,0,247,0,255,0,255,0,255,
0,229,0,90,0,2,0,0,0,0,0,0,0,23,0,163,0,253,0,251,0,156,0,22,0,20,0,169,0,255,
0,255,0,255,0,255,0,166,0,33,0,142,0,249,0,255,0,225,0,85,0,2,0,0,0,0,0,0,0,0,
0,0,0,26,0,164,0,149,0,20,0,0,0,2,0,149,0,255,0,255,0,255,0,255,0,147,0,0,0,
16,0,149,0,216,0,80,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,13,0,0,0,0,0,2,0,
149,0,255,0,255,0,255,0,255,0,147,0,2,0,0,0,20,0,46,0,2,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,148,0,255,0,252,0,252,0,255,0,146,0,2,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0};
static Fl_RGB_Image image_gear16(idata_gear16, 24, 24, 2, 0);

void PanelUI::cb_choose_apps_i(Fl_Button*, void*) {
  add_to_panel()->show();
}
void PanelUI::cb_choose_apps(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_choose_apps_i(o,v);
}

void PanelUI::cb_98_i(Fl_Button*, void*) {
  move_up();
}
void PanelUI::cb_98(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_98_i(o,v);
}

void PanelUI::cb_92_i(Fl_Button*, void*) {
  move_down();
}
void PanelUI::cb_92(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_92_i(o,v);
}

void PanelUI::cb_b_color_i(Fl_Button* o, void*) {
  one_color(o, "TrayStyle");
}
void PanelUI::cb_b_color(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_b_color_i(o,v);
}

void PanelUI::cb_button_color_font_a_i(Fl_Button* o, void*) {
  if((JWM_VERSION<232)&&(JWM_VERSION>236)){o->hide();}
else{one_color_Font_active(o,"TrayButtonStyle");};
}
void PanelUI::cb_button_color_font_a(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_button_color_font_a_i(o,v);
}

void PanelUI::cb_o_slider_i(Fl_Slider*, void*) {
  opacity(o_slider_v,o_slider,"TrayStyle");
}
void PanelUI::cb_o_slider(Fl_Slider* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_o_slider_i(o,v);
}

void PanelUI::cb_o_slider_v_i(Fl_Value_Input*, void*) {
  opacity(o_slider_v,o_slider,"TrayStyle");
}
void PanelUI::cb_o_slider_v(Fl_Value_Input* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_o_slider_v_i(o,v);
}

void PanelUI::cb_button_color_i(Fl_Button* o, void*) {
  if((JWM_VERSION<232)&&(JWM_VERSION>236)){o->hide();}
else{one_color(o,"TrayButtonStyle");};
}
void PanelUI::cb_button_color(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_button_color_i(o,v);
}

void PanelUI::cb_button_color_active_i(Fl_Button* o, void*) {
  if((JWM_VERSION<232)&&(JWM_VERSION>236)){o->hide();}
else{one_color_active(o,"TrayButtonStyle");};
}
void PanelUI::cb_button_color_active(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_button_color_active_i(o,v);
}

void PanelUI::cb_button_color_font_i(Fl_Button* o, void*) {
  if((JWM_VERSION<232)&&(JWM_VERSION>236)){o->hide();}
else{one_color_Font(o,"TrayButtonStyle");};
}
void PanelUI::cb_button_color_font(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_button_color_font_i(o,v);
}

void PanelUI::cb_panel_font_a_i(Fl_Button* o, void*) {
  one_color_Font_active(o,"TrayStyle");
}
void PanelUI::cb_panel_font_a(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_panel_font_a_i(o,v);
}

void PanelUI::cb_panel_color_a_i(Fl_Button* o, void*) {
  one_color_active(o,"TrayStyle");
}
void PanelUI::cb_panel_color_a(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_panel_color_a_i(o,v);
}

void PanelUI::cb_panel_font_i(Fl_Button* o, void*) {
  one_color_Font(o,"TrayStyle");
}
void PanelUI::cb_panel_font(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_panel_font_i(o,v);
}

void PanelUI::cb_flat_i(Fl_Menu_*, void*) {
  tray_outline2->hide();
setDecorations(panel_deco,"TrayStyle","flat");
}
void PanelUI::cb_flat(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_flat_i(o,v);
}

void PanelUI::cb_motif_i(Fl_Menu_*, void*) {
  tray_outline2->show();
setDecorations(panel_deco,"TrayStyle","motif");
}
void PanelUI::cb_motif(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_motif_i(o,v);
}

unsigned char PanelUI::menu_decorations_i18n_done = 0;
Fl_Menu_Item PanelUI::menu_decorations[] = {
 {"flat", 0,  (Fl_Callback*)PanelUI::cb_flat, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"motif", 0,  (Fl_Callback*)PanelUI::cb_motif, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {0,0,0,0,0,0,0,0,0}
};

void PanelUI::cb_tray_outline_i(Fl_Button* o, void*) {
  outline_color(o,"TrayStyle");
}
void PanelUI::cb_tray_outline(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_tray_outline_i(o,v);
}

void PanelUI::cb_tray_outline2_i(Fl_Button* o, void*) {
  color_two(o,"TrayStyle","Outline");
tray_outline->redraw();
}
void PanelUI::cb_tray_outline2(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_tray_outline2_i(o,v);
}

void PanelUI::cb_top_i(Fl_Menu_*, void*) {
  change_panel_position("top");
}
void PanelUI::cb_top(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_top_i(o,v);
}

void PanelUI::cb_bottom_i(Fl_Menu_*, void*) {
  change_panel_position("bottom");
}
void PanelUI::cb_bottom(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_bottom_i(o,v);
}

void PanelUI::cb_right_i(Fl_Menu_*, void*) {
  change_panel_position("right");
}
void PanelUI::cb_right(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_right_i(o,v);
}

void PanelUI::cb_left_i(Fl_Menu_*, void*) {
  change_panel_position("left");
}
void PanelUI::cb_left(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_left_i(o,v);
}

unsigned char PanelUI::menu_Panel_i18n_done = 0;
Fl_Menu_Item PanelUI::menu_Panel[] = {
 {"top", 0,  (Fl_Callback*)PanelUI::cb_top, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"bottom", 0,  (Fl_Callback*)PanelUI::cb_bottom, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"right", 0,  (Fl_Callback*)PanelUI::cb_right, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"left", 0,  (Fl_Callback*)PanelUI::cb_left, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {0,0,0,0,0,0,0,0,0}
};

void PanelUI::cb_autohide_check_i(Fl_Check_Button* o, void*) {
  int autohide=o->value();
std::string val = getAutoHide(autohide);
if(val.compare("off")==0){
  o->value(0);
  if(autohide!=0){errorOUT("Something went wrong with autohide");}
}
setElementAttribute(currentPanel(),"Tray","autohide",val);
autohide_position(val,autohide_pos);
}
void PanelUI::cb_autohide_check(Fl_Check_Button* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_autohide_check_i(o,v);
}

void PanelUI::cb_w_slider_i(Fl_Slider* o, void*) {
  width_height_border(o,width_input,"width");
}
void PanelUI::cb_w_slider(Fl_Slider* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_w_slider_i(o,v);
}

void PanelUI::cb_width_input_i(Fl_Value_Input* o, void*) {
  input_width_height_border(w_slider,o,"width");
}
void PanelUI::cb_width_input(Fl_Value_Input* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_width_input_i(o,v);
}

void PanelUI::cb_h_slider_i(Fl_Slider* o, void*) {
  width_height_border(o,height_input,"height");
}
void PanelUI::cb_h_slider(Fl_Slider* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_h_slider_i(o,v);
}

void PanelUI::cb_height_input_i(Fl_Value_Input* o, void*) {
  input_width_height_border(h_slider,o,"height");
}
void PanelUI::cb_height_input(Fl_Value_Input* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_height_input_i(o,v);
}

void PanelUI::cb_X_i(Fl_Value_Input* o, void*) {
  coordinate("x",o,2);
}
void PanelUI::cb_X(Fl_Value_Input* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_X_i(o,v);
}

void PanelUI::cb_Y_i(Fl_Value_Input* o, void*) {
  coordinate("y",o,2);
}
void PanelUI::cb_Y(Fl_Value_Input* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_Y_i(o,v);
}

void PanelUI::cb_border_slider_i(Fl_Slider* o, void*) {
  width_height_border(o,border_input,"border");
}
void PanelUI::cb_border_slider(Fl_Slider* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_border_slider_i(o,v);
}

void PanelUI::cb_border_input_i(Fl_Value_Input* o, void*) {
  input_width_height_border(border_slider,o,"border");
}
void PanelUI::cb_border_input(Fl_Value_Input* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_border_input_i(o,v);
}

void PanelUI::cb_top1_i(Fl_Menu_*, void*) {
  autohide_position("top",autohide_pos);
}
void PanelUI::cb_top1(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_top1_i(o,v);
}

void PanelUI::cb_bottom1_i(Fl_Menu_*, void*) {
  autohide_position("bottom",autohide_pos);
}
void PanelUI::cb_bottom1(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_bottom1_i(o,v);
}

void PanelUI::cb_right1_i(Fl_Menu_*, void*) {
  autohide_position("right",autohide_pos);
}
void PanelUI::cb_right1(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_right1_i(o,v);
}

void PanelUI::cb_left1_i(Fl_Menu_*, void*) {
  autohide_position("left",autohide_pos);
}
void PanelUI::cb_left1(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_left1_i(o,v);
}

void PanelUI::cb_off_i(Fl_Menu_*, void*) {
  autohide_position("off",autohide_pos);
}
void PanelUI::cb_off(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_off_i(o,v);
}

unsigned char PanelUI::menu_choose_autohide_i18n_done = 0;
Fl_Menu_Item PanelUI::menu_choose_autohide[] = {
 {"top", 0,  (Fl_Callback*)PanelUI::cb_top1, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"bottom", 0,  (Fl_Callback*)PanelUI::cb_bottom1, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"right", 0,  (Fl_Callback*)PanelUI::cb_right1, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"left", 0,  (Fl_Callback*)PanelUI::cb_left1, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"off", 0,  (Fl_Callback*)PanelUI::cb_off, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {0,0,0,0,0,0,0,0,0}
};

void PanelUI::cb_fixed_i(Fl_Menu_*, void*) {
  panel_h(1,halign);
}
void PanelUI::cb_fixed(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_fixed_i(o,v);
}

void PanelUI::cb_left2_i(Fl_Menu_*, void*) {
  panel_h(2,halign);
}
void PanelUI::cb_left2(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_left2_i(o,v);
}

void PanelUI::cb_center_i(Fl_Menu_*, void*) {
  panel_h(3,halign);
}
void PanelUI::cb_center(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_center_i(o,v);
}

void PanelUI::cb_right2_i(Fl_Menu_*, void*) {
  panel_h(4,halign);
}
void PanelUI::cb_right2(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_right2_i(o,v);
}

unsigned char PanelUI::menu_halign_i18n_done = 0;
Fl_Menu_Item PanelUI::menu_halign[] = {
 {"fixed", 0,  (Fl_Callback*)PanelUI::cb_fixed, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"left", 0,  (Fl_Callback*)PanelUI::cb_left2, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"center", 0,  (Fl_Callback*)PanelUI::cb_center, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"right", 0,  (Fl_Callback*)PanelUI::cb_right2, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {0,0,0,0,0,0,0,0,0}
};

void PanelUI::cb_fixed1_i(Fl_Menu_*, void*) {
  panel_v(1,valign);
}
void PanelUI::cb_fixed1(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_fixed1_i(o,v);
}

void PanelUI::cb_top2_i(Fl_Menu_*, void*) {
  panel_v(2,valign);
}
void PanelUI::cb_top2(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_top2_i(o,v);
}

void PanelUI::cb_center1_i(Fl_Menu_*, void*) {
  panel_v(3,valign);
}
void PanelUI::cb_center1(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_center1_i(o,v);
}

void PanelUI::cb_bottom2_i(Fl_Menu_*, void*) {
  panel_v(4,valign);
}
void PanelUI::cb_bottom2(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_bottom2_i(o,v);
}

unsigned char PanelUI::menu_valign_i18n_done = 0;
Fl_Menu_Item PanelUI::menu_valign[] = {
 {"fixed", 0,  (Fl_Callback*)PanelUI::cb_fixed1, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"top", 0,  (Fl_Callback*)PanelUI::cb_top2, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"center", 0,  (Fl_Callback*)PanelUI::cb_center1, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"bottom", 0,  (Fl_Callback*)PanelUI::cb_bottom2, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {0,0,0,0,0,0,0,0,0}
};

void PanelUI::cb_horizontal_i(Fl_Menu_*, void*) {
  layout("horizontal",layOut);
}
void PanelUI::cb_horizontal(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_horizontal_i(o,v);
}

void PanelUI::cb_vertical_i(Fl_Menu_*, void*) {
  layout("vertical",layOut);
}
void PanelUI::cb_vertical(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_vertical_i(o,v);
}

unsigned char PanelUI::menu_layout_i18n_done = 0;
Fl_Menu_Item PanelUI::menu_layout[] = {
 {"horizontal", 0,  (Fl_Callback*)PanelUI::cb_horizontal, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"vertical", 0,  (Fl_Callback*)PanelUI::cb_vertical, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {0,0,0,0,0,0,0,0,0}
};

void PanelUI::cb_below_i(Fl_Menu_*, void*) {
  change_layer("below",layer);
}
void PanelUI::cb_below(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_below_i(o,v);
}

void PanelUI::cb_normal_i(Fl_Menu_*, void*) {
  change_layer("normal",layer);
}
void PanelUI::cb_normal(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_normal_i(o,v);
}

void PanelUI::cb_above_i(Fl_Menu_*, void*) {
  change_layer("above",layer);
}
void PanelUI::cb_above(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->parent()->parent()->user_data()))->cb_above_i(o,v);
}

unsigned char PanelUI::menu_layer_i18n_done = 0;
Fl_Menu_Item PanelUI::menu_layer[] = {
 {"below", 0,  (Fl_Callback*)PanelUI::cb_below, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"normal", 0,  (Fl_Callback*)PanelUI::cb_normal, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"above", 0,  (Fl_Callback*)PanelUI::cb_above, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {0,0,0,0,0,0,0,0,0}
};

void PanelUI::cb_Cancel_i(Fl_Button*, void*) {
  cancel_button();
}
void PanelUI::cb_Cancel(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->user_data()))->cb_Cancel_i(o,v);
}

void PanelUI::cb_save_button_i(Fl_Button*, void*) {
  ok();
}
void PanelUI::cb_save_button(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->user_data()))->cb_save_button_i(o,v);
}

void PanelUI::cb_Edit_i(Fl_Button*, void*) {
  panel_window->hide();
showMenu();
}
void PanelUI::cb_Edit(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->user_data()))->cb_Edit_i(o,v);
}

void PanelUI::cb_OK1_i(Fl_Button*, void*) {
  indicator_win->hide();
}
void PanelUI::cb_OK1(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_OK1_i(o,v);
}

void PanelUI::cb_CLOSE_i(Fl_Button*, void*) {
  indicator_win->hide();
}
void PanelUI::cb_CLOSE(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_CLOSE_i(o,v);
}

void PanelUI::cb_2_i(Fl_Button*, void*) {
  if(checkFlBrowserItem(add_indicator_browser)){
  const char* item=add_indicator_browser->text(add_indicator_browser->value());
  addIndicator(item);
  getIndicators(indicator_browser);
};
}
void PanelUI::cb_2(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_2_i(o,v);
}

void PanelUI::cb_OK2_i(Fl_Button*, void*) {
  saveChanges();
add_2_panel->hide();
refresh_app_browser(app_browser);
}
void PanelUI::cb_OK2(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_OK2_i(o,v);
}

void PanelUI::cb_3_i(Fl_Button*, void*) {
  add_item();
}
void PanelUI::cb_3(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_3_i(o,v);
}

void PanelUI::cb_CLOSE1_i(Fl_Button*, void*) {
  add_2_panel->hide();
}
void PanelUI::cb_CLOSE1(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_CLOSE1_i(o,v);
}

void PanelUI::cb_OK3_i(Fl_Button*, void*) {
  save_user_clock();
}
void PanelUI::cb_OK3(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->user_data()))->cb_OK3_i(o,v);
}

void PanelUI::cb_clock_style_i(Fl_Input* o, void*) {
  const char* style = o->value();
std::string result = getClock(style);
clock_display->redraw_label();
clock_display->copy_label(result.c_str());
clock_display->redraw();
clock_displayer->redraw_label();
clock_displayer->copy_label(result.c_str());
clock_displayer->redraw();
}
void PanelUI::cb_clock_style(Fl_Input* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->user_data()))->cb_clock_style_i(o,v);
}

void PanelUI::cb_4_i(Fl_Browser* o, void*) {
  std::string item=o->text(o->value());
item= item.substr(0,2);
clock_style->insert(item.c_str());
//std::cerr<<"Click Clock: "<<item<<std::endl;
}
void PanelUI::cb_4(Fl_Browser* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->user_data()))->cb_4_i(o,v);
}

void PanelUI::cb_Notes_i(Fl_Button*, void*) {
  clock_notes_window()->show();
}
void PanelUI::cb_Notes(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->user_data()))->cb_Notes_i(o,v);
}

void PanelUI::cb_Modifier_i(Fl_Button*, void*) {
  clock_info_window()->show();
}
void PanelUI::cb_Modifier(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->user_data()))->cb_Modifier_i(o,v);
}

void PanelUI::cb_CLOSE2_i(Fl_Button*, void*) {
  clock_info->hide();
}
void PanelUI::cb_CLOSE2(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_CLOSE2_i(o,v);
}

void PanelUI::cb_CLOSE3_i(Fl_Button*, void*) {
  clock_modifier_notes->hide();
}
void PanelUI::cb_CLOSE3(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->parent()->user_data()))->cb_CLOSE3_i(o,v);
}

void PanelUI::cb_See_i(Fl_Button*, void*) {
  int thissys = system("bash -c 'xterm -geometry 90x24 -fa default -fs 10 -T \"ctime Manual\" -e \"man ctime\" & '");
if(thissys !=0){std::cerr<< "command did not return 0"<<std::endl;};
}
void PanelUI::cb_See(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_See_i(o,v);
}

void PanelUI::cb_OK4_i(Fl_Button*, void*) {
  conf_applist_window->hide();
}
void PanelUI::cb_OK4(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_OK4_i(o,v);
}

void PanelUI::cb_task_bg_color_i(Fl_Button* o, void*) {
  one_color_active(o,"TaskListStyle");
}
void PanelUI::cb_task_bg_color(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_task_bg_color_i(o,v);
}

void PanelUI::cb_task_fg_color_i(Fl_Button* o, void*) {
  one_color_Font_active(o,"TaskListStyle");
}
void PanelUI::cb_task_fg_color(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_task_fg_color_i(o,v);
}

void PanelUI::cb_Max_i(Fl_Value_Input* o, void*) {
  if(!setTaskW(BUTTON_NUM,o->value())){
  errorOUT("Did not set max width correctly");
};
}
void PanelUI::cb_Max(Fl_Value_Input* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_Max_i(o,v);
}

void PanelUI::cb_Height_i(Fl_Value_Input* o, void*) {
  if(!setItemH(BUTTON_NUM,o->value())){
  errorOUT("Did not set height correctly");
};
}
void PanelUI::cb_Height(Fl_Value_Input* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_Height_i(o,v);
}

void PanelUI::cb_Labeled_i(Fl_Check_Button* o, void*) {
  int val=o->value();
setItemBool(val,BUTTON_NUM);
}
void PanelUI::cb_Labeled(Fl_Check_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_Labeled_i(o,v);
}

void PanelUI::cb_Group_i(Fl_Check_Button* o, void*) {
  int val=o->value();
std::string value="false";
if(val==1)value="true";
setTaskListValue("group",value);
}
void PanelUI::cb_Group(Fl_Check_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_Group_i(o,v);
}

void PanelUI::cb_This_i(Fl_Menu_*, void*) {
  std::string value="desktop";
setTaskListValue("list",value);
list_out->value(value.c_str());
list_out->redraw();
}
void PanelUI::cb_This(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_This_i(o,v);
}

void PanelUI::cb_All_i(Fl_Menu_*, void*) {
  std::string value="all";
setTaskListValue("list",value);
list_out->value(value.c_str());
list_out->redraw();
}
void PanelUI::cb_All(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_All_i(o,v);
}

unsigned char PanelUI::menu_List_i18n_done = 0;
Fl_Menu_Item PanelUI::menu_List[] = {
 {"This Desktop Only", 0,  (Fl_Callback*)PanelUI::cb_This, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"All windows", 0,  (Fl_Callback*)PanelUI::cb_All, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {0,0,0,0,0,0,0,0,0}
};

void PanelUI::cb_flat1_i(Fl_Menu_*, void*) {
  task_outline2->hide();
setDecorations(tasklist_deco,"TaskListStyle","flat");
}
void PanelUI::cb_flat1(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_flat1_i(o,v);
}

void PanelUI::cb_motif1_i(Fl_Menu_*, void*) {
  task_outline2->show();
setDecorations(tasklist_deco,"TaskListStyle","motif");
}
void PanelUI::cb_motif1(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_motif1_i(o,v);
}

unsigned char PanelUI::menu_decorations1_i18n_done = 0;
Fl_Menu_Item PanelUI::menu_decorations1[] = {
 {"flat", 0,  (Fl_Callback*)PanelUI::cb_flat1, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"motif", 0,  (Fl_Callback*)PanelUI::cb_motif1, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {0,0,0,0,0,0,0,0,0}
};

void PanelUI::cb_task_outline_i(Fl_Button* o, void*) {
  outline_color(o,"TaskListStyle");
}
void PanelUI::cb_task_outline(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_task_outline_i(o,v);
}

void PanelUI::cb_task_outline2_i(Fl_Button* o, void*) {
  color_two(o,"TaskListStyle","Outline");
task_outline->redraw();
}
void PanelUI::cb_task_outline2(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_task_outline2_i(o,v);
}

void PanelUI::cb_i_task_bg_color_i(Fl_Button* o, void*) {
  one_color(o,"TaskListStyle");
}
void PanelUI::cb_i_task_bg_color(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_i_task_bg_color_i(o,v);
}

void PanelUI::cb_i_task_fg_color_i(Fl_Button* o, void*) {
  one_color_Font(o,"TaskListStyle");
}
void PanelUI::cb_i_task_fg_color(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_i_task_fg_color_i(o,v);
}

void PanelUI::cb_button_icon_view_i(Fl_Button* o, void*) {
  std::string iconFILE=choose_an_icon();
if(iconFILE.compare("")!=0)makeWidgetIcon(iconFILE,o,48);
}
void PanelUI::cb_button_icon_view(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_button_icon_view_i(o,v);
}

void PanelUI::cb_11_i(Fl_Menu_*, void*) {
  get_button_stuff(1);
}
void PanelUI::cb_11(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_11_i(o,v);
}

void PanelUI::cb_21_i(Fl_Menu_*, void*) {
  get_button_stuff(2);
}
void PanelUI::cb_21(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_21_i(o,v);
}

void PanelUI::cb_31_i(Fl_Menu_*, void*) {
  get_button_stuff(3);
}
void PanelUI::cb_31(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_31_i(o,v);
}

unsigned char PanelUI::menu_Mouse_i18n_done = 0;
Fl_Menu_Item PanelUI::menu_Mouse[] = {
 {"1", 0,  (Fl_Callback*)PanelUI::cb_11, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"2", 0,  (Fl_Callback*)PanelUI::cb_21, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"3", 0,  (Fl_Callback*)PanelUI::cb_31, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {0,0,0,0,0,0,0,0,0}
};

void PanelUI::cb_prog_conf_gear_i(Fl_Button*, void*) {
  std::string program=choose_a_program();
if(program.compare("")==0){
  button_prog->activate();
  std::string result="exec:"+program;
  button_prog->value(result.c_str());
  button_prog->redraw();
};
}
void PanelUI::cb_prog_conf_gear(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_prog_conf_gear_i(o,v);
}

void PanelUI::cb_menu_conf_gear_i(Fl_Button*, void*) {
  const char* tmpTST =button_menu->value();
button_menu->activate();
if(tmpTST!=NULL){showMenu(tmpTST);}
else{showMenu();};
}
void PanelUI::cb_menu_conf_gear(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_menu_conf_gear_i(o,v);
}

void PanelUI::cb_OK5_i(Fl_Button*, void*) {
  save_traybutton();
}
void PanelUI::cb_OK5(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_OK5_i(o,v);
}

void PanelUI::cb_Day_i(Fl_Menu_*, void*) {
  change_clock("Day");
}
void PanelUI::cb_Day(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_Day_i(o,v);
}

void PanelUI::cb_24_i(Fl_Menu_*, void*) {
  change_clock("24");
}
void PanelUI::cb_24(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_24_i(o,v);
}

void PanelUI::cb_12_i(Fl_Menu_*, void*) {
  change_clock("12");
}
void PanelUI::cb_12(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_12_i(o,v);
}

void PanelUI::cb_Year_i(Fl_Menu_*, void*) {
  change_clock("Year");
}
void PanelUI::cb_Year(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_Year_i(o,v);
}

void PanelUI::cb_Advanced_i(Fl_Menu_*, void*) {
  clock_window()->show();
}
void PanelUI::cb_Advanced(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_Advanced_i(o,v);
}

unsigned char PanelUI::menu_clock_menu_i18n_done = 0;
Fl_Menu_Item PanelUI::menu_clock_menu[] = {
 {"Day name Month Day 12 Hour", 0,  (Fl_Callback*)PanelUI::cb_Day, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"24 Hour Clock", 0,  (Fl_Callback*)PanelUI::cb_24, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"12 Hour Clock", 0,  (Fl_Callback*)PanelUI::cb_12, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"Year Month Day 24 Hour clock", 0,  (Fl_Callback*)PanelUI::cb_Year, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"(Advanced) User Defined", 0,  (Fl_Callback*)PanelUI::cb_Advanced, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {0,0,0,0,0,0,0,0,0}
};

void PanelUI::cb_Time_i(Fl_Menu_Button*, void*) {
  std::cout<<"hi"<<std::endl;
}
void PanelUI::cb_Time(Fl_Menu_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_Time_i(o,v);
}

void PanelUI::cb_Width_i(Fl_Value_Input* o, void*) {
  if(!setItemH(BUTTON_NUM,o->value())){
  errorOUT("Did not set width correctly");
};
}
void PanelUI::cb_Width(Fl_Value_Input* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_Width_i(o,v);
}

void PanelUI::cb_Height1_i(Fl_Value_Input* o, void*) {
  if(!setItemW(BUTTON_NUM,o->value())){
  errorOUT("Did not set height correctly");
};
}
void PanelUI::cb_Height1(Fl_Value_Input* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_Height1_i(o,v);
}

void PanelUI::cb_13_i(Fl_Menu_*, void*) {
  get_clock_button_stuff(1);
}
void PanelUI::cb_13(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_13_i(o,v);
}

void PanelUI::cb_22_i(Fl_Menu_*, void*) {
  get_clock_button_stuff(2);
}
void PanelUI::cb_22(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_22_i(o,v);
}

void PanelUI::cb_32_i(Fl_Menu_*, void*) {
  get_clock_button_stuff(3);
}
void PanelUI::cb_32(Fl_Menu_* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_32_i(o,v);
}

unsigned char PanelUI::menu_Mouse1_i18n_done = 0;
Fl_Menu_Item PanelUI::menu_Mouse1[] = {
 {"1", 0,  (Fl_Callback*)PanelUI::cb_13, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"2", 0,  (Fl_Callback*)PanelUI::cb_22, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {"3", 0,  (Fl_Callback*)PanelUI::cb_32, 0, 0, FL_NORMAL_LABEL, 0, 14, 0},
 {0,0,0,0,0,0,0,0,0}
};

void PanelUI::cb_clock_menu_conf_gear_i(Fl_Button*, void*) {
  const char* tmpTST =clock_button_menu->value();
clock_button_menu->activate();
if(tmpTST!=NULL){showMenu(tmpTST);}
else{showMenu();};
}
void PanelUI::cb_clock_menu_conf_gear(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_clock_menu_conf_gear_i(o,v);
}

void PanelUI::cb_clock_prog_conf_gear_i(Fl_Button*, void*) {
  std::string program=choose_a_program();
if(program.compare("")==0){
  clock_prog->activate();
  std::string result="exec:"+program;
  clock_prog->value(result.c_str());
  clock_prog->redraw();
};
}
void PanelUI::cb_clock_prog_conf_gear(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_clock_prog_conf_gear_i(o,v);
}

void PanelUI::cb_OK6_i(Fl_Button*, void*) {
  conf_clock_window->hide();
}
void PanelUI::cb_OK6(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_OK6_i(o,v);
}

void PanelUI::cb_clock_fg_i(Fl_Button* o, void*) {
  one_color_Font(o,"ClockStyle");
}
void PanelUI::cb_clock_fg(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_clock_fg_i(o,v);
}

void PanelUI::cb_Background_i(Fl_Button* o, void*) {
  one_color(o,"ClockStyle");
}
void PanelUI::cb_Background(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_Background_i(o,v);
}

void PanelUI::cb_OK7_i(Fl_Button*, void*) {
  conf_indicator_window->hide();
}
void PanelUI::cb_OK7(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_OK7_i(o,v);
}

void PanelUI::cb_5_i(Fl_Button*, void*) {
  removeIndicator(indicator_browser);
}
void PanelUI::cb_5(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_5_i(o,v);
}

void PanelUI::cb_6_i(Fl_Button*, void*) {
  add_indicator()->show();
}
void PanelUI::cb_6(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_6_i(o,v);
}

void PanelUI::cb_Width1_i(Fl_Value_Input* o, void*) {
  if(!setItemH(BUTTON_NUM,o->value())){
  errorOUT("Did not set width correctly");
};
}
void PanelUI::cb_Width1(Fl_Value_Input* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_Width1_i(o,v);
}

void PanelUI::cb_OK8_i(Fl_Button*, void*) {
  std::string input;
const char* temp1 = manually_in->value();
if(temp1!=NULL)input=temp1;
std::string item;
const char* temp2 = hid_in->value();
if(temp2!=NULL)item=temp2;
change_manual_item(input, item);
conf_manual_window->hide();
}
void PanelUI::cb_OK8(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_OK8_i(o,v);
}

void PanelUI::cb_7_i(Fl_Button* o, void*) {
  std::string iconFILE=choose_an_icon();
if(iconFILE.compare("")!=0){
  makeWidgetIcon(iconFILE,o,48);
  icon_file->value(iconFILE.c_str());
};
}
void PanelUI::cb_7(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_7_i(o,v);
}

void PanelUI::cb_OK9_i(Fl_Button*, void*) {
  const char* testNum = tester->value();
if(testNum ==NULL){return;}
const char* icon = hidden_icon_name->value();
if(icon ==NULL){icon="application-default";}
const char* newLabel = app_menu->value();
if(newLabel==NULL){newLabel=gettext("Menu");}
labelMenu(testNum,newLabel);
setImageMenu(testNum,icon);
conf_menu_window->hide();
}
void PanelUI::cb_OK9(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_OK9_i(o,v);
}

void PanelUI::cb_icon_view_i(Fl_Button* o, void*) {
  std::string iconFILE=choose_an_icon();
if(iconFILE.compare("")!=0)makeWidgetIcon(iconFILE,o,48);
}
void PanelUI::cb_icon_view(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_icon_view_i(o,v);
}

void PanelUI::cb_8_i(Fl_Button*, void*) {
  const char* tmpTST =tester->value();
if(tmpTST!=NULL){showMenu(tmpTST);}
else{showMenu();};
}
void PanelUI::cb_8(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_8_i(o,v);
}

void PanelUI::cb_OKa_i(Fl_Button*, void*) {
  conf_swallow_window->hide();
}
void PanelUI::cb_OKa(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_OKa_i(o,v);
}

void PanelUI::cb_swallow_name_i(Fl_Input* o, void*) {
  const char* name = o->value();
if(name==NULL){return;}
setElementAttribute(currentPanel(),"Tray","Swallow","name",name);
}
void PanelUI::cb_swallow_name(Fl_Input* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_swallow_name_i(o,v);
}

void PanelUI::cb_swallow_config_i(Fl_Input* o, void*) {
  const char* name = o->value();
if(name==NULL){return;}
setElementText(currentPanel(),"Tray","Swallow",name);
}
void PanelUI::cb_swallow_config(Fl_Input* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_swallow_config_i(o,v);
}

void PanelUI::cb_Width2_i(Fl_Value_Input* o, void*) {
  if(!setItemH(BUTTON_NUM,o->value())){
  errorOUT("Did not set width correctly");
};
}
void PanelUI::cb_Width2(Fl_Value_Input* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_Width2_i(o,v);
}

void PanelUI::cb_Height2_i(Fl_Value_Input* o, void*) {
  if(!setItemW(BUTTON_NUM,o->value())){
  errorOUT("Did not set height correctly");
};
}
void PanelUI::cb_Height2(Fl_Value_Input* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_Height2_i(o,v);
}

void PanelUI::cb_OKb_i(Fl_Button*, void*) {
  conf_switcher->hide();
}
void PanelUI::cb_OKb(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_OKb_i(o,v);
}

void PanelUI::cb_a_fg_i(Fl_Button* o, void*) {
  one_color_Font(o,"PagerStyle");
}
void PanelUI::cb_a_fg(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_a_fg_i(o,v);
}

void PanelUI::cb_a_bg_i(Fl_Button* o, void*) {
  one_color_active(o,"PagerStyle");
}
void PanelUI::cb_a_bg(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_a_bg_i(o,v);
}

void PanelUI::cb_t_fg_i(Fl_Button* o, void*) {
  one_color_Font(o,"PagerStyle");
}
void PanelUI::cb_t_fg(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_t_fg_i(o,v);
}

void PanelUI::cb_t_bg_i(Fl_Button* o, void*) {
  one_color(o,"PagerStyle");
}
void PanelUI::cb_t_bg(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_t_bg_i(o,v);
}

void PanelUI::cb_num_desktop_w_i(Fl_Value_Input* o, void*) {
  int width = int((o->value()));
num_desktop_wh_CB("width",width,num_desktop_w,num_desktop_h);
}
void PanelUI::cb_num_desktop_w(Fl_Value_Input* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_num_desktop_w_i(o,v);
}

void PanelUI::cb_num_desktop_h_i(Fl_Value_Input* o, void*) {
  int height = int((o->value()));
num_desktop_wh_CB("height",height,num_desktop_w,num_desktop_h);
}
void PanelUI::cb_num_desktop_h(Fl_Value_Input* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_num_desktop_h_i(o,v);
}

void PanelUI::cb_Labled_i(Fl_Check_Button* o, void*) {
  int val=o->value();
setItemBool(val,BUTTON_NUM);
}
void PanelUI::cb_Labled(Fl_Check_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_Labled_i(o,v);
}

void PanelUI::cb_Application_i(Fl_Button*, void*) {
  icon_for_desktop(shortcut_browser,app_command,icon_name,tooltip,app_icon_box);
}
void PanelUI::cb_Application(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_Application_i(o,v);
}

void PanelUI::cb_app_command_i(Fl_Input* o, void*) {
  app_command_CB(o,app_command);
}
void PanelUI::cb_app_command(Fl_Input* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_app_command_i(o,v);
}

void PanelUI::cb_9_i(Fl_Button*, void*) {
  if(add_new_shortcut(shortcut_browser,app_command,tooltip,icon_name,shortcut_border->value())){
  app_command->value("");
  app_command->redraw();
  icon_name->copy_label("");
  tooltip->value("");
  tooltip->redraw();
};
}
void PanelUI::cb_9(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_9_i(o,v);
}

void PanelUI::cb_ok_button_i(Fl_Button*, void*) {
  if(add_new_shortcut(shortcut_browser,app_command,tooltip,icon_name,shortcut_border->value())){
  debug_out("added current item to shortcuts");
}
saveChanges();
shortcut_window->hide();
refresh_app_browser(app_browser);
}
void PanelUI::cb_ok_button(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_ok_button_i(o,v);
}

void PanelUI::cb_a_i(Fl_Button*, void*) {
  int whichLine = shortcut_browser->value();
const char* lineIS = shortcut_browser->text(whichLine);
if (lineIS == NULL){return;}
std::string prog =lineIS;
if (prog.find("exec:")<prog.length()){
  deleteShortcut(prog);
  getShortcuts(shortcut_browser);
};
}
void PanelUI::cb_a(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_a_i(o,v);
}

void PanelUI::cb_app_icon_box_i(Fl_Button* o, void*) {
  std::string iconFILE=choose_an_icon();
if(iconFILE.compare("")!=0){
  makeWidgetIcon(iconFILE,o,48);
  icon_name->copy_label(iconFILE.c_str());
};
}
void PanelUI::cb_app_icon_box(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_app_icon_box_i(o,v);
}

void PanelUI::cb_CLOSE4_i(Fl_Button*, void*) {
  shortcut_window->hide();
}
void PanelUI::cb_CLOSE4(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_CLOSE4_i(o,v);
}

void PanelUI::cb_OKc_i(Fl_Button*, void*) {
  new_panel->hide();
}
void PanelUI::cb_OKc(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_OKc_i(o,v);
}

void PanelUI::cb_OKd_i(Fl_Button*, void*) {
  conf_spacer_win->hide();
}
void PanelUI::cb_OKd(Fl_Button* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_OKd_i(o,v);
}

void PanelUI::cb_Width3_i(Fl_Value_Input* o, void*) {
  if(!setItemW(BUTTON_NUM,o->value())){
  errorOUT("Did not set max width correctly");
};
}
void PanelUI::cb_Width3(Fl_Value_Input* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_Width3_i(o,v);
}

void PanelUI::cb_Height3_i(Fl_Value_Input* o, void*) {
  if(!setItemH(BUTTON_NUM,o->value())){
  errorOUT("Did not set height correctly");
};
}
void PanelUI::cb_Height3(Fl_Value_Input* o, void* v) {
  ((PanelUI*)(o->parent()->user_data()))->cb_Height3_i(o,v);
}

Fl_Double_Window* PanelUI::add_spacer() {
  { add_spacer_win = new Fl_Double_Window(245, 50, gettext("Spacer"));
    add_spacer_win->user_data((void*)(this));
    { Fl_Button* o = new Fl_Button(175, 10, 60, 25, gettext("OK"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)61);
      o->selection_color((Fl_Color)59);
      o->labelcolor(FL_BACKGROUND2_COLOR);
      o->callback((Fl_Callback*)cb_OK);
    } // Fl_Button* o
    { spacer_w = new Fl_Value_Input(55, 10, 25, 25, gettext("Width"));
      spacer_w->tooltip(gettext("The width of the spacer (0 to fill all available space).  0 is the default."));
      spacer_w->box(FL_FLAT_BOX);
    } // Fl_Value_Input* spacer_w
    { spacer_h = new Fl_Value_Input(135, 10, 25, 25, gettext("Height"));
      spacer_h->tooltip(gettext("The height of the spacer (0 to fill all available space).  0 is the default."));
      spacer_h->box(FL_FLAT_BOX);
      spacer_h->selection_color(FL_DARK_RED);
    } // Fl_Value_Input* spacer_h
    add_spacer_win->end();
  } // Fl_Double_Window* add_spacer_win
  return add_spacer_win;
}

void PanelUI::clear_shortcuts() {
  app_command->value("");
  app_command->redraw();
  tooltip->value("");
  tooltip->redraw();
  icon_name->copy_label("");
  icon_name->redraw();
}

void PanelUI::display(std::string filename) {
  if(filename.compare("")==0){return;}
  makeWidgetIcon(filename,icon_view,48);
}

Fl_Double_Window* PanelUI::make_window() {
  load();
  JWM_VERSION=JWMversion();
  { Fl_Double_Window* o = panel_window = new Fl_Double_Window(285, 450, gettext("Panel Settings"));
    panel_window->color(FL_DARK1);
    panel_window->user_data((void*)(this));
    panel_window->align(Fl_Align(FL_ALIGN_CLIP|FL_ALIGN_INSIDE));
    { Fl_Scroll* o = new Fl_Scroll(0, 0, 355, 665);
      o->color((Fl_Color)31);
      { Fl_Menu_Button* o = panel_chooser = new Fl_Menu_Button(5, 5, 110, 25);
        panel_chooser->box(FL_FLAT_BOX);
        panel_chooser->down_box(FL_FLAT_BOX);
        panel_chooser->color((Fl_Color)23);
        panel_chooser->selection_color((Fl_Color)51);
        panel_chooser->callback((Fl_Callback*)cb_panel_chooser);
        panel_chooser->when(3);
        { Fl_Menu_Item* o = &menu_panel_chooser[0];
          const char* text=gettext("Add a Panel");
          o->label(text);
        }
        { Fl_Menu_Item* o = &menu_panel_chooser[1];
          const char* text=gettext("Panel 1");
          o->label(text);
        }
        { Fl_Menu_Item* o = &menu_panel_chooser[2];
          hide_menu(o,2);
          const char* text=gettext("Panel 2");
          o->label(text);
        }
        { Fl_Menu_Item* o = &menu_panel_chooser[3];
          hide_menu(o,3);
          const char* text=gettext("Panel 3");
          o->label(text);
        }
        { Fl_Menu_Item* o = &menu_panel_chooser[4];
          hide_menu(o,4);
          const char* text=gettext("Panel 4");
          o->label(text);
        }
        { Fl_Menu_Item* o = &menu_panel_chooser[5];
          const char* text=gettext("Remove Current  Panel");
          o->label(text);
        }
        if (!menu_panel_chooser_i18n_done) {
          int i=0;
          for ( ; i<6; i++)
            if (menu_panel_chooser[i].label())
              menu_panel_chooser[i].label(gettext(menu_panel_chooser[i].label()));
          menu_panel_chooser_i18n_done = 1;
        }
        panel_chooser->menu(menu_panel_chooser);
        panel_menu_button_label(o);
      } // Fl_Menu_Button* panel_chooser
      { Fl_Tabs* o = new Fl_Tabs(0, 35, 285, 380);
        o->box(FL_FLAT_BOX);
        o->color(FL_DARK1);
        { Fl_Group* o = apps_tab = new Fl_Group(5, 60, 280, 350, gettext("Apps"));
          apps_tab->selection_color(FL_DARK2);
          { Fl_Button* o = new Fl_Button(50, 380, 30, 30, gettext("-"));
            o->box(FL_FLAT_BOX);
            o->color((Fl_Color)23);
            o->labelfont(1);
            o->labelsize(34);
            o->callback((Fl_Callback*)cb_);
          } // Fl_Button* o
          { Fl_Browser* o = app_browser = new Fl_Browser(5, 65, 270, 310);
            app_browser->type(2);
            app_browser->box(FL_FLAT_BOX);
            app_browser->selection_color(FL_DARK_RED);
            app_browser->callback((Fl_Callback*)cb_app_browser);
            populateApps(o);
          } // Fl_Browser* app_browser
          { Fl_Button* o = new Fl_Button(95, 380, 30, 30);
            o->box(FL_FLAT_BOX);
            o->color((Fl_Color)23);
            o->image(image_gear16);
            o->callback((Fl_Callback*)cb_1);
          } // Fl_Button* o
          { choose_apps = new Fl_Button(5, 380, 30, 30, gettext("@+"));
            choose_apps->box(FL_FLAT_BOX);
            choose_apps->color((Fl_Color)23);
            choose_apps->callback((Fl_Callback*)cb_choose_apps);
          } // Fl_Button* choose_apps
          { Fl_Button* o = new Fl_Button(185, 380, 40, 30, gettext("@+98>"));
            o->box(FL_FLAT_BOX);
            o->color((Fl_Color)23);
            o->selection_color((Fl_Color)40);
            o->callback((Fl_Callback*)cb_98);
          } // Fl_Button* o
          { Fl_Button* o = new Fl_Button(235, 380, 40, 30, gettext("@+92>"));
            o->box(FL_FLAT_BOX);
            o->color((Fl_Color)23);
            o->selection_color((Fl_Color)40);
            o->callback((Fl_Callback*)cb_92);
          } // Fl_Button* o
          const char* text=gettext("Apps");o->label(text);
          apps_tab->end();
        } // Fl_Group* apps_tab
        { Fl_Group* o = new Fl_Group(0, 60, 280, 350, gettext("Appearance"));
          o->selection_color(FL_DARK2);
          o->hide();
          { Fl_Box* o = new Fl_Box(5, 110, 135, 35, gettext("Active"));
            o->box(FL_FLAT_BOX);
            o->color((Fl_Color)53);
            o->selection_color(FL_DARK3);
            o->align(Fl_Align(FL_ALIGN_TOP));
          } // Fl_Box* o
          { Fl_Box* o = new Fl_Box(5, 160, 135, 35, gettext("Inactive"));
            o->box(FL_FLAT_BOX);
            o->color((Fl_Color)43);
            o->selection_color(FL_DARK3);
            o->align(Fl_Align(FL_ALIGN_TOP));
          } // Fl_Box* o
          { Fl_Box* o = new Fl_Box(145, 110, 135, 35, gettext("Active"));
            o->box(FL_FLAT_BOX);
            o->color((Fl_Color)53);
            o->selection_color(FL_DARK3);
            o->align(Fl_Align(FL_ALIGN_TOP));
            if((JWM_VERSION>232)&&(JWM_VERSION<236)){o->hide();}
          } // Fl_Box* o
          { Fl_Box* o = new Fl_Box(145, 160, 135, 35, gettext("Inactive"));
            o->box(FL_FLAT_BOX);
            o->color((Fl_Color)43);
            o->selection_color(FL_DARK3);
            o->align(Fl_Align(FL_ALIGN_TOP));
            if((JWM_VERSION>232)&&(JWM_VERSION<236)){o->hide();}
          } // Fl_Box* o
          { Fl_Button* o = b_color = new Fl_Button(75, 165, 60, 25);
            b_color->tooltip(gettext("Panel Inactive Background Color"));
            b_color->box(FL_FLAT_BOX);
            b_color->color((Fl_Color)23);
            b_color->callback((Fl_Callback*)cb_b_color);
            b_color->align(Fl_Align(FL_ALIGN_TOP));
            unsigned int c=0;
            unsigned int color = getBackground(c, "TrayStyle");
            o->color(color);
          } // Fl_Button* b_color
          { Fl_Button* o = button_color_font_a = new Fl_Button(150, 115, 60, 25);
            button_color_font_a->tooltip(gettext("Panel Button Active Text Color"));
            button_color_font_a->box(FL_FLAT_BOX);
            button_color_font_a->color((Fl_Color)23);
            button_color_font_a->callback((Fl_Callback*)cb_button_color_font_a);
            button_color_font_a->align(Fl_Align(FL_ALIGN_TOP));
            unsigned int c=0;
            if((JWM_VERSION>232)&&(JWM_VERSION<236)){o->hide();}
            else{unsigned int color = getActiveForeground(c,"TrayButtonStyle");o->color(color);}
          } // Fl_Button* button_color_font_a
          { Fl_Slider* o = o_slider = new Fl_Slider(15, 225, 90, 25, gettext("Opacity of Panel  "));
            o_slider->tooltip(gettext("A compositor (like xcompmgr) must be installed"));
            o_slider->type(1);
            o_slider->box(FL_GTK_DOWN_BOX);
            o_slider->color((Fl_Color)42);
            o_slider->selection_color(FL_LIGHT1);
            o_slider->step(0.02);
            o_slider->value(1);
            o_slider->callback((Fl_Callback*)cb_o_slider);
            o_slider->align(Fl_Align(FL_ALIGN_RIGHT));
            o_slider->when(FL_WHEN_RELEASE_ALWAYS);
            const char* text=gettext("Opacity of Panel");o->label(text);
            float h = getOpacity("TrayStyle");
            o->value(h);
          } // Fl_Slider* o_slider
          { Fl_Value_Input* o = o_slider_v = new Fl_Value_Input(230, 225, 40, 25, gettext("%"));
            o_slider_v->box(FL_FLAT_BOX);
            o_slider_v->color((Fl_Color)23);
            o_slider_v->labelsize(10);
            o_slider_v->callback((Fl_Callback*)cb_o_slider_v);
            o_slider_v->align(Fl_Align(FL_ALIGN_RIGHT));
            float v = o_slider->value();
            o->value(v*100.0f);
          } // Fl_Value_Input* o_slider_v
          { Fl_Button* o = button_color = new Fl_Button(215, 165, 60, 25);
            button_color->tooltip(gettext("Panel Button Inactive Background Color"));
            button_color->box(FL_FLAT_BOX);
            button_color->color((Fl_Color)23);
            button_color->callback((Fl_Callback*)cb_button_color);
            button_color->align(Fl_Align(FL_ALIGN_TOP));
            unsigned int c=0;
            if((JWM_VERSION>232)&&(JWM_VERSION<236)){o->hide();}
            else{unsigned int color = getBackground(c,"TrayButtonStyle");o->color(color);}
          } // Fl_Button* button_color
          { Fl_Button* o = button_color_active = new Fl_Button(215, 115, 60, 25);
            button_color_active->tooltip(gettext("Panel Button Active Background Color"));
            button_color_active->box(FL_FLAT_BOX);
            button_color_active->color((Fl_Color)23);
            button_color_active->callback((Fl_Callback*)cb_button_color_active);
            button_color_active->align(Fl_Align(FL_ALIGN_TOP));
            unsigned int c=0;
            if((JWM_VERSION>232)&&(JWM_VERSION<236)){o->hide();}
            else{unsigned int color = getActiveBackground(c,"TrayButtonStyle");o->color(color);}
          } // Fl_Button* button_color_active
          { Fl_Button* o = button_color_font = new Fl_Button(150, 165, 60, 25);
            button_color_font->tooltip(gettext("Panel Button Inactive Text Color"));
            button_color_font->box(FL_FLAT_BOX);
            button_color_font->color((Fl_Color)23);
            button_color_font->callback((Fl_Callback*)cb_button_color_font);
            button_color_font->align(Fl_Align(FL_ALIGN_TOP));
            unsigned int c=0;
            if((JWM_VERSION>232)&&(JWM_VERSION<236)){o->hide();}
            else{unsigned int color = getFontColor(c,"TrayButtonStyle");o->color(color);}
          } // Fl_Button* button_color_font
          { Fl_Button* o = panel_font_a = new Fl_Button(10, 115, 60, 25);
            panel_font_a->tooltip(gettext("Panel Active Text Color"));
            panel_font_a->box(FL_FLAT_BOX);
            panel_font_a->color((Fl_Color)23);
            panel_font_a->callback((Fl_Callback*)cb_panel_font_a);
            panel_font_a->align(Fl_Align(FL_ALIGN_TOP));
            unsigned int c=0;
            unsigned int color = getActiveForeground(c,"TrayStyle");o->color(color);
          } // Fl_Button* panel_font_a
          { Fl_Button* o = panel_color_a = new Fl_Button(75, 115, 60, 25);
            panel_color_a->tooltip(gettext("Panel Active Background Color"));
            panel_color_a->box(FL_FLAT_BOX);
            panel_color_a->color((Fl_Color)23);
            panel_color_a->callback((Fl_Callback*)cb_panel_color_a);
            panel_color_a->align(Fl_Align(FL_ALIGN_TOP));
            unsigned int c=0;
            unsigned int color = getActiveBackground(c,"TrayStyle");o->color(color);
          } // Fl_Button* panel_color_a
          { Fl_Button* o = panel_font = new Fl_Button(10, 165, 60, 25);
            panel_font->tooltip(gettext("Panel Inactive Text Color"));
            panel_font->box(FL_FLAT_BOX);
            panel_font->color((Fl_Color)23);
            panel_font->callback((Fl_Callback*)cb_panel_font);
            panel_font->align(Fl_Align(FL_ALIGN_TOP));
            unsigned int c=0;
            unsigned int color = getFontColor(c,"TrayStyle");o->color(color);
          } // Fl_Button* panel_font
          { new Fl_Box(35, 75, 75, 20, gettext("Panel"));
          } // Fl_Box* o
          { Fl_Box* o = new Fl_Box(155, 75, 105, 25, gettext("Panel Buttons"));
            if((JWM_VERSION>232)&&(JWM_VERSION<236)){o->hide();}
          } // Fl_Box* o
          { Fl_Menu_Button* o = new Fl_Menu_Button(15, 265, 110, 25, gettext("decorations"));
            o->tooltip(gettext("Flat or Motif style decorations"));
            o->box(FL_FLAT_BOX);
            o->color((Fl_Color)23);
            if (!menu_decorations_i18n_done) {
              int i=0;
              for ( ; i<2; i++)
                if (menu_decorations[i].label())
                  menu_decorations[i].label(gettext(menu_decorations[i].label()));
              menu_decorations_i18n_done = 1;
            }
            o->menu(menu_decorations);
            if(JWM_VERSION<232){o->hide();}
          } // Fl_Menu_Button* o
          { Fl_Output* o = panel_deco = new Fl_Output(145, 265, 110, 25);
            panel_deco->tooltip(gettext("Flat or Motif style decorations (flat is default)"));
            panel_deco->box(FL_FLAT_BOX);
            panel_deco->selection_color((Fl_Color)80);
            if(JWM_VERSION<232){o->hide();}
            getDecorations(o,"TrayStyle");
          } // Fl_Output* panel_deco
          { Fl_Button* o = tray_outline = new Fl_Button(70, 320, 60, 25, gettext("Outline"));
            tray_outline->box(FL_FLAT_BOX);
            tray_outline->color((Fl_Color)23);
            tray_outline->callback((Fl_Callback*)cb_tray_outline);
            tray_outline->align(Fl_Align(FL_ALIGN_LEFT));
            outline1(o,"TrayStyle");
          } // Fl_Button* tray_outline
          { Fl_Button* o = tray_outline2 = new Fl_Button(135, 320, 60, 25);
            tray_outline2->box(FL_FLAT_BOX);
            tray_outline2->color((Fl_Color)23);
            tray_outline2->callback((Fl_Callback*)cb_tray_outline2);
            tray_outline2->align(Fl_Align(FL_ALIGN_TOP));
            if(JWM_VERSION<232){o->hide();}
            else{outline2(o,panel_deco,"TrayStyle");}
          } // Fl_Button* tray_outline2
          const char* text=gettext("Appearance");o->label(text);
          o->end();
        } // Fl_Group* o
        { Fl_Group* o = new Fl_Group(5, 65, 280, 350, gettext("Size And Position"));
          o->selection_color(FL_DARK2);
          o->hide();
          { Fl_Menu_Button* o = new Fl_Menu_Button(10, 80, 125, 25, gettext("Panel Position"));
            o->tooltip(gettext("Move the current panel to a new position"));
            o->box(FL_FLAT_BOX);
            o->color((Fl_Color)23);
            o->selection_color((Fl_Color)51);
            { Fl_Menu_Item* o = &menu_Panel[0];
              const char* text=gettext("top");o->label(text);
            }
            { Fl_Menu_Item* o = &menu_Panel[1];
              const char* text=gettext("bottom");o->label(text);
            }
            { Fl_Menu_Item* o = &menu_Panel[2];
              const char* text=gettext("right");o->label(text);
            }
            { Fl_Menu_Item* o = &menu_Panel[3];
              const char* text=gettext("left");o->label(text);
            }
            if (!menu_Panel_i18n_done) {
              int i=0;
              for ( ; i<4; i++)
                if (menu_Panel[i].label())
                  menu_Panel[i].label(gettext(menu_Panel[i].label()));
              menu_Panel_i18n_done = 1;
            }
            o->menu(menu_Panel);
            const char* text=gettext("Panel Position");o->label(text);
          } // Fl_Menu_Button* o
          { Fl_Check_Button* o = autohide_check = new Fl_Check_Button(160, 80, 95, 25, gettext("Autohide"));
            autohide_check->tooltip(gettext("This will make the Panel hide when you aren\'t using it."));
            autohide_check->down_box(FL_GTK_DOWN_BOX);
            autohide_check->selection_color((Fl_Color)59);
            autohide_check->callback((Fl_Callback*)cb_autohide_check);
            autohide_check->when(FL_WHEN_CHANGED);
            const char* text=gettext("Autohide?");o->label(text);
          } // Fl_Check_Button* autohide_check
          { Fl_Slider* o = w_slider = new Fl_Slider(10, 125, 180, 25, gettext("Width of Panel  "));
            w_slider->tooltip(gettext("0 is Full Length"));
            w_slider->type(1);
            w_slider->box(FL_GTK_DOWN_BOX);
            w_slider->color((Fl_Color)42);
            w_slider->selection_color((Fl_Color)29);
            w_slider->maximum(3000);
            w_slider->step(1);
            w_slider->value(32);
            w_slider->callback((Fl_Callback*)cb_w_slider);
            w_slider->align(Fl_Align(FL_ALIGN_TOP));
            w_slider->when(3);
            const char* text=gettext("Width of Panel");o->label(text);
            int h = getWidth();
            o->value(h);
          } // Fl_Slider* w_slider
          { Fl_Value_Input* o = width_input = new Fl_Value_Input(200, 125, 40, 25, gettext("pixels"));
            width_input->tooltip(gettext("The  width  of  the tray. 0 indicates that the tray\nshould compute an optima\
l width depending  on  what\nit  contains  and the layout. A negative value su\
btracts\nfrom with screen width. 0 is the default."));
            width_input->box(FL_FLAT_BOX);
            width_input->color((Fl_Color)23);
            width_input->labelsize(10);
            width_input->maximum(3000);
            width_input->callback((Fl_Callback*)cb_width_input);
            width_input->align(Fl_Align(FL_ALIGN_RIGHT));
            int v = w_slider->value();
            o->value(v);
            const char* text=gettext("pixels");o->label(text);
          } // Fl_Value_Input* width_input
          { Fl_Slider* o = h_slider = new Fl_Slider(10, 170, 180, 25, gettext("Height of Panel  "));
            h_slider->tooltip(gettext("0 will base size from the current items in the panel"));
            h_slider->type(1);
            h_slider->box(FL_GTK_DOWN_BOX);
            h_slider->color((Fl_Color)42);
            h_slider->selection_color((Fl_Color)29);
            h_slider->maximum(3000);
            h_slider->step(1);
            h_slider->value(32);
            h_slider->callback((Fl_Callback*)cb_h_slider);
            h_slider->align(Fl_Align(FL_ALIGN_TOP));
            h_slider->when(FL_WHEN_RELEASE_ALWAYS);
            const char* text=gettext("Height of Panel");o->label(text);
            int h = getHeight();
            o->value(h);
          } // Fl_Slider* h_slider
          { Fl_Value_Input* o = height_input = new Fl_Value_Input(200, 170, 40, 25, gettext("pixels"));
            height_input->tooltip(gettext("The height of the tray. 0 indicates that  the  tray\nshould  compute an optim\
al height depending on what\nit contains and the layout. A negative  value  su\
btracts\nfrom the screen height. 0 is the default."));
            height_input->box(FL_FLAT_BOX);
            height_input->color((Fl_Color)23);
            height_input->labelsize(10);
            height_input->maximum(3000);
            height_input->callback((Fl_Callback*)cb_height_input);
            height_input->align(Fl_Align(FL_ALIGN_RIGHT));
            int v = h_slider->value();
            o->value(v);
            const char* text=gettext("pixels");o->label(text);
          } // Fl_Value_Input* height_input
          { Fl_Box* o = new Fl_Box(5, 200, 185, 30, gettext("Advanced Options"));
            o->labelfont(1);
            o->labelsize(18);
            const char* text=gettext("Advanced Options");o->label(text);
          } // Fl_Box* o
          { Fl_Value_Input* o = new Fl_Value_Input(10, 230, 25, 25, gettext("X coordinate"));
            o->tooltip(gettext("The x-coordinate of the tray. This may be  negative\nto indicate an offset fr\
om the right of the screen."));
            o->box(FL_FLAT_BOX);
            o->color((Fl_Color)23);
            o->minimum(-100);
            o->maximum(2000);
            o->callback((Fl_Callback*)cb_X);
            o->align(Fl_Align(FL_ALIGN_RIGHT));
            coordinate("x",o,1);
            const char* text=gettext("X position of panel");o->label(text);
          } // Fl_Value_Input* o
          { Fl_Value_Input* o = new Fl_Value_Input(155, 230, 25, 25, gettext("Y coordinate"));
            o->tooltip(gettext("The  y-coordinate of the tray. This may be negative\nto indicate  an  offset \
 from  the  bottom  of  the\nscreen."));
            o->box(FL_FLAT_BOX);
            o->color((Fl_Color)23);
            o->minimum(-100);
            o->maximum(2000);
            o->callback((Fl_Callback*)cb_Y);
            o->align(Fl_Align(FL_ALIGN_RIGHT));
            coordinate("y",o,1);
            const char* text=gettext("Y position of panel");o->label(text);
          } // Fl_Value_Input* o
          { Fl_Output* o = halign = new Fl_Output(155, 295, 60, 25);
            halign->tooltip(gettext("The horizontal alignment of the Panel"));
            halign->box(FL_FLAT_BOX);
            halign->align(Fl_Align(FL_ALIGN_TOP));
            std::string val=getElementAttribute(currentPanel(),"Tray","halign");
            if(val.compare("")!=0){o->value(val.c_str());}
          } // Fl_Output* halign
          { Fl_Output* o = valign = new Fl_Output(220, 295, 60, 25);
            valign->tooltip(gettext("The vertical alignment of the Panel"));
            valign->box(FL_FLAT_BOX);
            valign->align(Fl_Align(FL_ALIGN_TOP));
            std::string val=getElementAttribute(currentPanel(),"Tray","valign");
            if(val.compare("")!=0){o->value(val.c_str());}
          } // Fl_Output* valign
          { Fl_Slider* o = border_slider = new Fl_Slider(10, 345, 180, 25, gettext("Width of Panel Border"));
            border_slider->type(1);
            border_slider->box(FL_GTK_DOWN_BOX);
            border_slider->color((Fl_Color)42);
            border_slider->selection_color((Fl_Color)29);
            border_slider->maximum(32);
            border_slider->step(1);
            border_slider->callback((Fl_Callback*)cb_border_slider);
            border_slider->align(Fl_Align(FL_ALIGN_TOP));
            border_slider->when(FL_WHEN_RELEASE_ALWAYS);
            const char* text=gettext("Width of Panel Border");o->label(text);
            int border =getBorder();
            o->value(border);
          } // Fl_Slider* border_slider
          { Fl_Value_Input* o = border_input = new Fl_Value_Input(200, 345, 40, 25, gettext("pixels"));
            border_input->box(FL_FLAT_BOX);
            border_input->color((Fl_Color)23);
            border_input->labelsize(10);
            border_input->maximum(3000);
            border_input->callback((Fl_Callback*)cb_border_input);
            border_input->align(Fl_Align(FL_ALIGN_RIGHT));
            int v = border_slider->value();
            o->value(v);
            const char* text=gettext("pixels");o->label(text);
          } // Fl_Value_Input* border_input
          { Fl_Menu_Button* o = choose_autohide = new Fl_Menu_Button(10, 380, 150, 25, gettext("Autohide Position"));
            choose_autohide->tooltip(gettext("Specifies  the  location  to hide the tray when not\nactivated. Default  is  \
\"off\"  to  disable  hiding.\nPossible  values  are \"left\", \"right\", \"to\
p\", \"bottom\", and \"off\"."));
            choose_autohide->box(FL_FLAT_BOX);
            choose_autohide->color((Fl_Color)23);
            choose_autohide->selection_color((Fl_Color)23);
            { Fl_Menu_Item* o = &menu_choose_autohide[0];
              const char* text=gettext("top");o->label(text);
            }
            { Fl_Menu_Item* o = &menu_choose_autohide[1];
              const char* text=gettext("bottom");o->label(text);
            }
            { Fl_Menu_Item* o = &menu_choose_autohide[2];
              const char* text=gettext("right");o->label(text);
            }
            { Fl_Menu_Item* o = &menu_choose_autohide[3];
              const char* text=gettext("left");o->label(text);
            }
            { Fl_Menu_Item* o = &menu_choose_autohide[4];
              const char* text=gettext("off");o->label(text);
            }
            if (!menu_choose_autohide_i18n_done) {
              int i=0;
              for ( ; i<5; i++)
                if (menu_choose_autohide[i].label())
                  menu_choose_autohide[i].label(gettext(menu_choose_autohide[i].label()));
              menu_choose_autohide_i18n_done = 1;
            }
            choose_autohide->menu(menu_choose_autohide);
            autohide(autohide_check,choose_autohide);
            const char* text=gettext("Autohide Position");o->label(text);
          } // Fl_Menu_Button* choose_autohide
          { Fl_Output* o = autohide_pos = new Fl_Output(165, 380, 105, 25);
            autohide_pos->tooltip(gettext("current autohide position (if any)"));
            autohide_pos->box(FL_FLAT_BOX);
            std::string val=getElementAttribute(currentPanel(),"Tray","autohide");
            if(val.compare("")!=0){o->value(val.c_str());}
          } // Fl_Output* autohide_pos
          { Fl_Menu_Button* o = new Fl_Menu_Button(155, 260, 60, 25, gettext("halign"));
            o->tooltip(gettext("Use \'Panel Position\' for easy configuration"));
            o->box(FL_FLAT_BOX);
            o->color((Fl_Color)23);
            if (!menu_halign_i18n_done) {
              int i=0;
              for ( ; i<4; i++)
                if (menu_halign[i].label())
                  menu_halign[i].label(gettext(menu_halign[i].label()));
              menu_halign_i18n_done = 1;
            }
            o->menu(menu_halign);
          } // Fl_Menu_Button* o
          { Fl_Menu_Button* o = new Fl_Menu_Button(220, 260, 60, 25, gettext("valign"));
            o->tooltip(gettext("Use \'Panel Position\' for easy configuration"));
            o->box(FL_FLAT_BOX);
            o->color((Fl_Color)23);
            if (!menu_valign_i18n_done) {
              int i=0;
              for ( ; i<4; i++)
                if (menu_valign[i].label())
                  menu_valign[i].label(gettext(menu_valign[i].label()));
              menu_valign_i18n_done = 1;
            }
            o->menu(menu_valign);
          } // Fl_Menu_Button* o
          { Fl_Menu_Button* o = new Fl_Menu_Button(80, 260, 60, 25, gettext("layout"));
            o->tooltip(gettext("Use \'Panel Position\' for easy configuration"));
            o->box(FL_FLAT_BOX);
            o->color((Fl_Color)23);
            if (!menu_layout_i18n_done) {
              int i=0;
              for ( ; i<2; i++)
                if (menu_layout[i].label())
                  menu_layout[i].label(gettext(menu_layout[i].label()));
              menu_layout_i18n_done = 1;
            }
            o->menu(menu_layout);
          } // Fl_Menu_Button* o
          { Fl_Output* o = layOut = new Fl_Output(80, 295, 60, 25);
            layOut->tooltip(gettext("The layout of the tray. The default is horizontal."));
            layOut->box(FL_FLAT_BOX);
            layOut->align(Fl_Align(FL_ALIGN_TOP));
            std::string val=getElementAttribute(currentPanel(),"Tray","layout");
            if(val.compare("")!=0){o->value(val.c_str());}
          } // Fl_Output* layOut
          { Fl_Menu_Button* o = new Fl_Menu_Button(10, 260, 60, 25, gettext("layer"));
            o->tooltip(gettext("Use \'Panel Position\' for easy configuration"));
            o->box(FL_FLAT_BOX);
            o->color((Fl_Color)23);
            if (!menu_layer_i18n_done) {
              int i=0;
              for ( ; i<3; i++)
                if (menu_layer[i].label())
                  menu_layer[i].label(gettext(menu_layer[i].label()));
              menu_layer_i18n_done = 1;
            }
            o->menu(menu_layer);
          } // Fl_Menu_Button* o
          { Fl_Output* o = layer = new Fl_Output(10, 295, 60, 25);
            layer->tooltip(gettext("The layer of the tray. The default is above."));
            layer->box(FL_FLAT_BOX);
            layer->align(Fl_Align(FL_ALIGN_TOP));
            std::string val=getElementAttribute(currentPanel(),"Tray","layer");
            if(val.compare("")!=0){o->value(val.c_str());}
          } // Fl_Output* layer
          const char* text=gettext("Size And Position");o->label(text);
          o->end();
        } // Fl_Group* o
        o->end();
      } // Fl_Tabs* o
      { Fl_Button* o = new Fl_Button(165, 420, 57, 25, gettext("Cancel"));
        o->box(FL_FLAT_BOX);
        o->color((Fl_Color)80);
        o->selection_color((Fl_Color)81);
        o->labelcolor(FL_BACKGROUND2_COLOR);
        o->callback((Fl_Callback*)cb_Cancel);
        const char* text=gettext("Cancel");o->label(text);
      } // Fl_Button* o
      { Fl_Button* o = save_button = new Fl_Button(231, 420, 45, 25, gettext("OK"));
        save_button->tooltip(gettext("Write to configuration file"));
        save_button->box(FL_FLAT_BOX);
        save_button->color((Fl_Color)61);
        save_button->selection_color((Fl_Color)59);
        save_button->labelcolor((Fl_Color)55);
        save_button->callback((Fl_Callback*)cb_save_button);
        const char* text=gettext("OK");o->label(text);
      } // Fl_Button* save_button
      { Fl_Button* o = new Fl_Button(15, 420, 110, 25, gettext("Edit Menus"));
        o->box(FL_FLAT_BOX);
        o->color((Fl_Color)23);
        o->callback((Fl_Callback*)cb_Edit);
        const char* text=gettext("Edit Menus");o->label(text);
      } // Fl_Button* o
      o->end();
    } // Fl_Scroll* o
    startup(o,jsm_panel_xpm);
    panel_window->xclass("jsm-panel");
    panel_window->end();
    panel_window->resizable(panel_window);
  } // Fl_Double_Window* panel_window
  return panel_window;
}

Fl_Double_Window* PanelUI::add_indicator() {
  { Fl_Double_Window* o = indicator_win = new Fl_Double_Window(155, 185, gettext("Add Indicator"));
    indicator_win->user_data((void*)(this));
    { Fl_Button* o = new Fl_Button(105, 140, 45, 30, gettext("OK"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)61);
      o->selection_color((Fl_Color)59);
      o->labelcolor(FL_BACKGROUND2_COLOR);
      o->callback((Fl_Callback*)cb_OK1);
    } // Fl_Button* o
    { Fl_Button* o = new Fl_Button(45, 140, 55, 30, gettext("CLOSE"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)80);
      o->selection_color((Fl_Color)64);
      o->labelcolor(FL_BACKGROUND2_COLOR);
      o->callback((Fl_Callback*)cb_CLOSE);
    } // Fl_Button* o
    { Fl_Browser* o = add_indicator_browser = new Fl_Browser(5, 5, 145, 130);
      add_indicator_browser->type(2);
      add_indicator_browser->box(FL_FLAT_BOX);
      add_indicator_browser->selection_color(FL_DARK_RED);
      listIndicators(o);
    } // Fl_Browser* add_indicator_browser
    { Fl_Button* o = new Fl_Button(10, 140, 30, 30, gettext("@+"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)23);
      o->callback((Fl_Callback*)cb_2);
    } // Fl_Button* o
    startup(o,jsm_panel_xpm);
    indicator_win->end();
  } // Fl_Double_Window* indicator_win
  return indicator_win;
}

Fl_Double_Window* PanelUI::add_to_panel() {
  { Fl_Double_Window* o = add_2_panel = new Fl_Double_Window(175, 265, gettext("Add to Panel"));
    add_2_panel->user_data((void*)(this));
    { Fl_Button* o = new Fl_Button(120, 225, 45, 30, gettext("OK"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)62);
      o->selection_color(FL_DARK_GREEN);
      o->labelcolor(FL_BACKGROUND2_COLOR);
      o->callback((Fl_Callback*)cb_OK2);
      const char* text=gettext("OK");o->label(text);
    } // Fl_Button* o
    { Fl_Browser* o = panel_items_browser = new Fl_Browser(5, 5, 160, 215);
      panel_items_browser->type(2);
      panel_items_browser->box(FL_FLAT_BOX);
      panel_items_browser->selection_color(FL_DARK_RED);
      new_panel_items(o);
    } // Fl_Browser* panel_items_browser
    { Fl_Button* o = new Fl_Button(5, 225, 30, 30, gettext("@+"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)23);
      o->callback((Fl_Callback*)cb_3);
    } // Fl_Button* o
    { Fl_Button* o = new Fl_Button(55, 225, 60, 30, gettext("CLOSE"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)80);
      o->selection_color((Fl_Color)64);
      o->labelcolor(FL_BACKGROUND2_COLOR);
      o->callback((Fl_Callback*)cb_CLOSE1);
    } // Fl_Button* o
    startup(o,jsm_panel_xpm);
    const char* text=gettext("Add to Panel");o->label(text);
    add_2_panel->xclass("jsm-panel");
    add_2_panel->end();
  } // Fl_Double_Window* add_2_panel
  return add_2_panel;
}

Fl_Double_Window* PanelUI::clock_window() {
  { Fl_Double_Window* o = clock_config_window = new Fl_Double_Window(460, 540, gettext("Configure Clock"));
    clock_config_window->user_data((void*)(this));
    { Fl_Scroll* o = new Fl_Scroll(0, 0, 455, 540);
      { Fl_Button* o = new Fl_Button(380, 505, 75, 30, gettext("OK"));
        o->box(FL_FLAT_BOX);
        o->color((Fl_Color)61);
        o->labelcolor(FL_BACKGROUND2_COLOR);
        o->callback((Fl_Callback*)cb_OK3);
        Fl_Group::current()->resizable(o);
        const char* text=gettext("OK");o->label(text);
      } // Fl_Button* o
      { Fl_Input* o = clock_style = new Fl_Input(45, 505, 290, 30, gettext("style"));
        clock_style->box(FL_FLAT_BOX);
        clock_style->selection_color(FL_DARK_RED);
        clock_style->callback((Fl_Callback*)cb_clock_style);
        clock_style->when(3);
        const char* text=gettext("style");o->label(text);
      } // Fl_Input* clock_style
      { Fl_Browser* o = new Fl_Browser(5, 5, 450, 405);
        o->type(2);
        o->box(FL_FLAT_BOX);
        o->selection_color(FL_DARK_RED);
        o->callback((Fl_Callback*)cb_4);
        populateClocks(o);
      } // Fl_Browser* o
      { clock_display = new Fl_Output(10, 470, 445, 25);
        clock_display->box(FL_FLAT_BOX);
        clock_display->labelfont(1);
        clock_display->labelsize(18);
        clock_display->align(Fl_Align(FL_ALIGN_TOP));
      } // Fl_Output* clock_display
      { Fl_Button* o = new Fl_Button(5, 415, 75, 30, gettext("Notes"));
        o->box(FL_FLAT_BOX);
        o->color((Fl_Color)23);
        o->callback((Fl_Callback*)cb_Notes);
        const char* text=gettext("Notes");o->label(text);
      } // Fl_Button* o
      { Fl_Button* o = new Fl_Button(90, 415, 110, 30, gettext("Modifier Notes"));
        o->box(FL_FLAT_BOX);
        o->color((Fl_Color)23);
        o->callback((Fl_Callback*)cb_Modifier);
        const char* text=gettext("Modifier Notes");o->label(text);
      } // Fl_Button* o
      o->end();
    } // Fl_Scroll* o
    startup(o,jsm_panel_xpm);
    const char* text=gettext("Configure Clock");o->label(text);
    clock_config_window->xclass("jsm-panel");
    clock_config_window->end();
    clock_config_window->resizable(clock_config_window);
  } // Fl_Double_Window* clock_config_window
  return clock_config_window;
}

Fl_Double_Window* PanelUI::clock_notes_window() {
  { Fl_Double_Window* o = clock_info = new Fl_Double_Window(350, 435, gettext("Notes"));
    clock_info->user_data((void*)(this));
    { Fl_Scroll* o = new Fl_Scroll(5, 5, 345, 400);
      { Fl_Box* o = new Fl_Box(5, 5, 335, 390, gettext("ISO 8601 week dates %G,  %g,  and  %V yield values calculated from the week-b\
ased year defined by the ISO 8601 standard.  In this system, weeks start  on a\
  Monday,  and are numbered from 01, for the first week, up to 52 or 53, for t\
he last week.  Week 1 is the first week where four  or more  days fall within \
the new year (or, synonymously, week 01 is: the first week of the year that co\
ntains a Thursday; or, the  week that  has 4 January in it).  When three of fe\
wer days of the first calendar week of the new year fall within that year, the\
n the  ISO 8601 week-based system counts those days as part of week 53 of the \
preceding year.  For example, 1 January 2010 is a Friday,  meaning that  just \
 three  days of that calendar week fall in 2010.  Thus, the ISO 8601 week-base\
d system considers these days to be part  of week  53 (%V) of the year 2009 (%\
G); week 01 of ISO 8601 year 2010 starts on Monday, 4 January 2010."));
        o->box(FL_FLAT_BOX);
        o->color((Fl_Color)55);
        o->align(Fl_Align(FL_ALIGN_WRAP));
      } // Fl_Box* o
      o->end();
    } // Fl_Scroll* o
    { Fl_Button* o = new Fl_Button(150, 400, 60, 30, gettext("CLOSE"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)80);
      o->selection_color((Fl_Color)64);
      o->labelcolor(FL_BACKGROUND2_COLOR);
      o->callback((Fl_Callback*)cb_CLOSE2);
    } // Fl_Button* o
    startup(o,jsm_panel_xpm);
    clock_info->xclass("jsm-panel");
    clock_info->end();
    clock_info->resizable(clock_info);
  } // Fl_Double_Window* clock_info
  return clock_info;
}

Fl_Double_Window* PanelUI::clock_info_window() {
  { Fl_Double_Window* o = clock_modifier_notes = new Fl_Double_Window(350, 400, gettext("Modifier Notes"));
    clock_modifier_notes->user_data((void*)(this));
    { Fl_Scroll* o = new Fl_Scroll(5, 5, 350, 395);
      { Fl_Box* o = new Fl_Box(5, 5, 340, 350, gettext("Some conversion specifications can be modified  by  preceding  the conversion\
  specifier character by the E or O modifier to indicate that an alternative f\
ormat should be  used.   If  the  alternative format or specification does not\
 exist for the current locale, the behavior will be as if  the  unmodified  co\
nversion  specification were  used.  (SU) The Single UNIX Specification mentio\
ns %Ec, %EC, %Ex, %EX, %Ey, %EY, %Od, %Oe, %OH, %OI, %Om, %OM, %OS,  %Ou,  %OU\
, %OV,  %Ow,  %OW, %Oy, where the effect of the O modifier is to use alternati\
ve numeric symbols (say, roman numerals), and that of the E  modifier  is  to \
use a locale-dependent alternative representation.\nThe broken-down time struc\
ture tm is  defined  in  <time.h>."));
        o->box(FL_FLAT_BOX);
        o->color((Fl_Color)55);
        o->align(Fl_Align(FL_ALIGN_WRAP));
      } // Fl_Box* o
      { Fl_Button* o = new Fl_Button(285, 360, 60, 30, gettext("CLOSE"));
        o->box(FL_FLAT_BOX);
        o->color((Fl_Color)80);
        o->selection_color((Fl_Color)64);
        o->labelcolor(FL_BACKGROUND2_COLOR);
        o->callback((Fl_Callback*)cb_CLOSE3);
      } // Fl_Button* o
      o->end();
    } // Fl_Scroll* o
    { Fl_Button* o = new Fl_Button(5, 360, 130, 30, gettext("See also ctime"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)23);
      o->labelfont(1);
      o->callback((Fl_Callback*)cb_See);
    } // Fl_Button* o
    startup(o,jsm_panel_xpm);
    clock_modifier_notes->xclass("jsm-panel");
    clock_modifier_notes->end();
    clock_modifier_notes->resizable(clock_modifier_notes);
  } // Fl_Double_Window* clock_modifier_notes
  return clock_modifier_notes;
}

Fl_Double_Window* PanelUI::config_applist_window() {
  { Fl_Double_Window* o = conf_applist_window = new Fl_Double_Window(350, 155, gettext("Running App List"));
    conf_applist_window->user_data((void*)(this));
    { Fl_Box* o = new Fl_Box(5, 20, 135, 35, gettext("Active"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)53);
      o->selection_color(FL_DARK3);
      o->align(Fl_Align(FL_ALIGN_TOP));
      if((JWM_VERSION<236)&&(JWM_VERSION>232)){o->deactivate();}
    } // Fl_Box* o
    { Fl_Box* o = new Fl_Box(5, 70, 135, 35, gettext("Inactive"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)43);
      o->selection_color(FL_DARK3);
      o->align(Fl_Align(FL_ALIGN_TOP));
      if((JWM_VERSION<236)&&(JWM_VERSION>232)){o->deactivate();}
    } // Fl_Box* o
    { Fl_Button* o = new Fl_Button(285, 125, 60, 25, gettext("OK"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)61);
      o->selection_color((Fl_Color)59);
      o->labelcolor(FL_BACKGROUND2_COLOR);
      o->callback((Fl_Callback*)cb_OK4);
    } // Fl_Button* o
    { Fl_Button* o = task_bg_color = new Fl_Button(75, 25, 60, 25);
      task_bg_color->box(FL_FLAT_BOX);
      task_bg_color->color((Fl_Color)23);
      task_bg_color->callback((Fl_Callback*)cb_task_bg_color);
      task_bg_color->align(Fl_Align(FL_ALIGN_LEFT));
      if((JWM_VERSION<236)&&(JWM_VERSION>232)){getColorFromItem(true,"TaskListStyle","Background",o);}
      else{o->deactivate();}
    } // Fl_Button* task_bg_color
    { Fl_Button* o = task_fg_color = new Fl_Button(10, 25, 60, 25);
      task_fg_color->box(FL_FLAT_BOX);
      task_fg_color->color((Fl_Color)23);
      task_fg_color->callback((Fl_Callback*)cb_task_fg_color);
      task_fg_color->align(Fl_Align(FL_ALIGN_LEFT));
      if((JWM_VERSION<236)&&(JWM_VERSION>232)){getColorFromItem(true,"TaskListStyle","Foreground",o);}
      else{o->deactivate();}
    } // Fl_Button* task_fg_color
    { Fl_Value_Input* o = new Fl_Value_Input(240, 5, 25, 25, gettext("Max Width"));
      o->tooltip(gettext("The  maximum  width  of  an item in the task list. 0 indicates no maximum.   \
The  default is 0"));
      o->box(FL_FLAT_BOX);
      o->callback((Fl_Callback*)cb_Max);
      o->value(getTaskW(BUTTON_NUM));
    } // Fl_Value_Input* o
    { Fl_Value_Input* o = new Fl_Value_Input(320, 5, 25, 25, gettext("Height"));
      o->tooltip(gettext("The height of an item in the  task  list.  0 indicates  that  the  height sho\
uld be taken from the tray.  The default is 0."));
      o->box(FL_FLAT_BOX);
      o->selection_color(FL_DARK_RED);
      o->callback((Fl_Callback*)cb_Height);
      o->value(getItemH(BUTTON_NUM));
      if(JWM_VERSION<233)o->hide();
    } // Fl_Value_Input* o
    { Fl_Check_Button* o = new Fl_Check_Button(25, 130, 90, 20, gettext("Labeled"));
      o->tooltip(gettext("Determines if a label is shown for items  in the task list.  The default is t\
rue."));
      o->down_box(FL_GTK_DOWN_BOX);
      o->value(1);
      o->color(FL_BACKGROUND2_COLOR);
      o->selection_color(FL_GREEN);
      o->callback((Fl_Callback*)cb_Labeled);
      o->value(taskLabeled(BUTTON_NUM));
    } // Fl_Check_Button* o
    { Fl_Check_Button* o = new Fl_Check_Button(150, 130, 70, 20, gettext("Group"));
      o->tooltip(gettext("Determines if windows are  grouped  by  class  when shown  in  task bars.  Po\
ssible values are true and false. The default is false."));
      o->down_box(FL_GTK_DOWN_BOX);
      o->color(FL_BACKGROUND2_COLOR);
      o->selection_color(FL_GREEN);
      o->callback((Fl_Callback*)cb_Group);
      if(JWM_VERSION<231){o->hide();}
      else{getGroupWin(o);}
    } // Fl_Check_Button* o
    { Fl_Menu_Button* o = new Fl_Menu_Button(150, 95, 100, 25, gettext("List"));
      o->tooltip(gettext("Determines which windows are shown  in  task  bars. Possible values are deskt\
op and all. The default is desktop."));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)23);
      o->selection_color(FL_DARK_RED);
      if (!menu_List_i18n_done) {
        int i=0;
        for ( ; i<2; i++)
          if (menu_List[i].label())
            menu_List[i].label(gettext(menu_List[i].label()));
        menu_List_i18n_done = 1;
      }
      o->menu(menu_List);
      if(JWM_VERSION<234){o->hide();}
      else{}
    } // Fl_Menu_Button* o
    { Fl_Output* o = list_out = new Fl_Output(255, 95, 90, 25);
      list_out->box(FL_FLAT_BOX);
      list_out->selection_color(FL_DARK_RED);
      if(JWM_VERSION<234){o->hide();}
      else{getTrayStyleattribute("list",o);}
    } // Fl_Output* list_out
    { Fl_Menu_Button* o = new Fl_Menu_Button(150, 65, 100, 25, gettext("decorations"));
      o->tooltip(gettext("Flat or Motif style decorations"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)23);
      if (!menu_decorations1_i18n_done) {
        int i=0;
        for ( ; i<2; i++)
          if (menu_decorations1[i].label())
            menu_decorations1[i].label(gettext(menu_decorations1[i].label()));
        menu_decorations1_i18n_done = 1;
      }
      o->menu(menu_decorations1);
      if(JWM_VERSION<232){o->hide();}
    } // Fl_Menu_Button* o
    { Fl_Output* o = tasklist_deco = new Fl_Output(255, 65, 90, 25);
      tasklist_deco->tooltip(gettext("Flat or Motif style decorations (flat is default)"));
      tasklist_deco->box(FL_FLAT_BOX);
      tasklist_deco->selection_color((Fl_Color)80);
      if(JWM_VERSION<232){o->hide();}
      getDecorations(o,"TaskListStyle");
    } // Fl_Output* tasklist_deco
    { Fl_Button* o = task_outline = new Fl_Button(220, 35, 60, 25, gettext("Outline"));
      task_outline->box(FL_FLAT_BOX);
      task_outline->color((Fl_Color)23);
      task_outline->callback((Fl_Callback*)cb_task_outline);
      task_outline->align(Fl_Align(FL_ALIGN_LEFT));
      outline1(o,"TaskListStyle");
    } // Fl_Button* task_outline
    { Fl_Button* o = task_outline2 = new Fl_Button(285, 35, 60, 25);
      task_outline2->box(FL_FLAT_BOX);
      task_outline2->color((Fl_Color)23);
      task_outline2->callback((Fl_Callback*)cb_task_outline2);
      task_outline2->align(Fl_Align(FL_ALIGN_LEFT));
      if(JWM_VERSION>=236){outline2(o,tasklist_deco,"TaskListStyle");}
      else{o->hide();}
    } // Fl_Button* task_outline2
    { Fl_Button* o = i_task_bg_color = new Fl_Button(75, 75, 60, 25);
      i_task_bg_color->box(FL_FLAT_BOX);
      i_task_bg_color->color((Fl_Color)23);
      i_task_bg_color->callback((Fl_Callback*)cb_i_task_bg_color);
      i_task_bg_color->align(Fl_Align(FL_ALIGN_LEFT));
      if((JWM_VERSION<236)&&(JWM_VERSION>232)){getColorFromItem(false,"TaskListStyle","Background",o);}
      else{o->deactivate();}
    } // Fl_Button* i_task_bg_color
    { Fl_Button* o = i_task_fg_color = new Fl_Button(10, 75, 60, 25);
      i_task_fg_color->box(FL_FLAT_BOX);
      i_task_fg_color->color((Fl_Color)23);
      i_task_fg_color->callback((Fl_Callback*)cb_i_task_fg_color);
      i_task_fg_color->align(Fl_Align(FL_ALIGN_LEFT));
      if((JWM_VERSION<236)&&(JWM_VERSION>232)){getColorFromItem(false,"TaskListStyle","Foreground",o);}
      else{o->deactivate();}
    } // Fl_Button* i_task_fg_color
    startup(o,jsm_panel_xpm);
    conf_applist_window->xclass("jsm-panel");
    conf_applist_window->end();
  } // Fl_Double_Window* conf_applist_window
  return conf_applist_window;
}

Fl_Double_Window* PanelUI::config_button_window(int input_num) {
  BUTTON_NUM=input_num;
  { Fl_Double_Window* o = conf_button_window = new Fl_Double_Window(285, 150, gettext("Configure Button"));
    conf_button_window->labelfont(14);
    conf_button_window->user_data((void*)(this));
    { Fl_Input* o = button_label = new Fl_Input(70, 0, 155, 25, gettext("Label"));
      button_label->tooltip(gettext("Text for the Panel Button"));
      button_label->box(FL_FLAT_BOX);
      button_label->color((Fl_Color)55);
      button_label->selection_color(FL_DARK_RED);
      button_label->when(FL_WHEN_CHANGED);
      get_tray_element_attrib(o,"label",BUTTON_NUM);
    } // Fl_Input* button_label
    { Fl_Input* o = button_icon_name = new Fl_Input(70, 30, 155, 25, gettext("Icon"));
      button_icon_name->tooltip(gettext("The icon file name"));
      button_icon_name->box(FL_FLAT_BOX);
      button_icon_name->color((Fl_Color)23);
      button_icon_name->selection_color((Fl_Color)80);
      get_tray_element_attrib(o,"icon",BUTTON_NUM);
    } // Fl_Input* button_icon_name
    { Fl_Button* o = button_icon_view = new Fl_Button(230, 5, 50, 50);
      button_icon_view->tooltip(gettext("Choose an Icon"));
      button_icon_view->box(FL_FLAT_BOX);
      button_icon_view->color((Fl_Color)23);
      button_icon_view->callback((Fl_Callback*)cb_button_icon_view);
      button_icon_view->align(Fl_Align(644));
      const char *file=button_icon_name->value();
      if(file!=NULL)makeWidgetIcon(file,o,48);
    } // Fl_Button* button_icon_view
    { Fl_Menu_Button* o = new Fl_Menu_Button(70, 60, 125, 25, gettext("Mouse Button"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)23);
      o->selection_color((Fl_Color)80);
      if (!menu_Mouse_i18n_done) {
        int i=0;
        for ( ; i<3; i++)
          if (menu_Mouse[i].label())
            menu_Mouse[i].label(gettext(menu_Mouse[i].label()));
        menu_Mouse_i18n_done = 1;
      }
      o->menu(menu_Mouse);
    } // Fl_Menu_Button* o
    { button_val = new Fl_Value_Output(205, 60, 40, 25);
      button_val->box(FL_FLAT_BOX);
      button_val->color((Fl_Color)23);
      button_val->selection_color((Fl_Color)80);
    } // Fl_Value_Output* button_val
    { button_prog = new Fl_Input(70, 90, 155, 25, gettext("Program"));
      button_prog->tooltip(gettext("Text for the Panel Button"));
      button_prog->box(FL_FLAT_BOX);
      button_prog->color((Fl_Color)55);
      button_prog->selection_color(FL_DARK_RED);
      button_prog->when(FL_WHEN_CHANGED);
      button_prog->deactivate();
    } // Fl_Input* button_prog
    { prog_conf_gear = new Fl_Button(230, 90, 25, 25);
      prog_conf_gear->tooltip(gettext("Configure the program"));
      prog_conf_gear->box(FL_FLAT_BOX);
      prog_conf_gear->color((Fl_Color)23);
      prog_conf_gear->image(image_gear16);
      prog_conf_gear->callback((Fl_Callback*)cb_prog_conf_gear);
    } // Fl_Button* prog_conf_gear
    { button_menu = new Fl_Output(70, 120, 25, 25, gettext("Menu"));
      button_menu->tooltip(gettext("The root menu the button is tied to"));
      button_menu->box(FL_FLAT_BOX);
      button_menu->color((Fl_Color)55);
      button_menu->deactivate();
    } // Fl_Output* button_menu
    { menu_conf_gear = new Fl_Button(100, 120, 25, 25);
      menu_conf_gear->tooltip(gettext("Configure the menu"));
      menu_conf_gear->box(FL_FLAT_BOX);
      menu_conf_gear->color((Fl_Color)23);
      menu_conf_gear->image(image_gear16);
      menu_conf_gear->callback((Fl_Callback*)cb_menu_conf_gear);
    } // Fl_Button* menu_conf_gear
    { Fl_Button* o = new Fl_Button(220, 120, 60, 25, gettext("OK"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)69);
      o->labelfont(1);
      o->labelcolor(FL_BACKGROUND2_COLOR);
      o->callback((Fl_Callback*)cb_OK5);
    } // Fl_Button* o
    startup(o,jsm_panel_xpm);
    conf_button_window->xclass("jsm-panel");
    conf_button_window->end();
  } // Fl_Double_Window* conf_button_window
  return conf_button_window;
}

Fl_Double_Window* PanelUI::config_clock_window() {
  { Fl_Double_Window* o = conf_clock_window = new Fl_Double_Window(360, 155, gettext("Configure Clock"));
    conf_clock_window->user_data((void*)(this));
    { clock_menu = new Fl_Menu_Button(5, 5, 110, 25, gettext("Clock Format"));
      clock_menu->box(FL_FLAT_BOX);
      clock_menu->color((Fl_Color)23);
      clock_menu->selection_color((Fl_Color)23);
      { Fl_Menu_Item* o = &menu_clock_menu[0];
        const char* text=gettext("Day name Month Day 12 Hour");
        o->label(text);
      }
      { Fl_Menu_Item* o = &menu_clock_menu[1];
        const char* text=gettext("24 Hour Clock");
        o->label(text);
      }
      { Fl_Menu_Item* o = &menu_clock_menu[2];
        const char* text=gettext("12 Hour Clock");
        o->label(text);
      }
      { Fl_Menu_Item* o = &menu_clock_menu[3];
        const char* text=gettext("Year Month Day 24 Hour clock");
        o->label(text);
      }
      { Fl_Menu_Item* o = &menu_clock_menu[4];
        const char* text=gettext("(Advanced) User Defined");
        o->label(text);
      }
      if (!menu_clock_menu_i18n_done) {
        int i=0;
        for ( ; i<5; i++)
          if (menu_clock_menu[i].label())
            menu_clock_menu[i].label(gettext(menu_clock_menu[i].label()));
        menu_clock_menu_i18n_done = 1;
      }
      clock_menu->menu(menu_clock_menu);
    } // Fl_Menu_Button* clock_menu
    { Fl_Output* o = clock_displayer = new Fl_Output(120, 5, 120, 25);
      clock_displayer->box(FL_FLAT_BOX);
      clock_displayer->align(Fl_Align(FL_ALIGN_TOP));
      std::string clock_text = getClock();
      o->value(clock_text.c_str());//copy_label(clock_text.c_str());
      o->redraw();//_label();
    } // Fl_Output* clock_displayer
    { tz_out = new Fl_Output(120, 35, 120, 25);
      tz_out->box(FL_FLAT_BOX);
    } // Fl_Output* tz_out
    { Fl_Menu_Button* o = new Fl_Menu_Button(5, 35, 110, 25, gettext("Time Zone"));
      o->tooltip(gettext("Optional. The time zone of the clock."));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)23);
      o->callback((Fl_Callback*)cb_Time);
      zoneMenu(o);
    } // Fl_Menu_Button* o
    { Fl_Value_Input* o = new Fl_Value_Input(50, 125, 25, 25, gettext("Width"));
      o->tooltip(gettext("The width of the clock. 0 indicates that the width should be determined from \
the length of the text to be displayed."));
      o->box(FL_FLAT_BOX);
      o->selection_color(FL_DARK_RED);
      o->callback((Fl_Callback*)cb_Width);
      o->value(getItemW(BUTTON_NUM));
    } // Fl_Value_Input* o
    { Fl_Value_Input* o = new Fl_Value_Input(135, 125, 25, 25, gettext("Height"));
      o->tooltip(gettext("The height of the clock. 0 indicates that the height should be determined fro\
m the font used."));
      o->box(FL_FLAT_BOX);
      o->selection_color(FL_DARK_RED);
      o->callback((Fl_Callback*)cb_Height1);
      o->value(getItemH(BUTTON_NUM));
    } // Fl_Value_Input* o
    { Fl_Menu_Button* o = new Fl_Menu_Button(5, 65, 110, 25, gettext("Mouse Button"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)23);
      o->selection_color((Fl_Color)80);
      if (!menu_Mouse1_i18n_done) {
        int i=0;
        for ( ; i<3; i++)
          if (menu_Mouse1[i].label())
            menu_Mouse1[i].label(gettext(menu_Mouse1[i].label()));
        menu_Mouse1_i18n_done = 1;
      }
      o->menu(menu_Mouse1);
      if(JWM_VERSION<230)o->hide();
    } // Fl_Menu_Button* o
    { Fl_Value_Output* o = output_button_val = new Fl_Value_Output(120, 65, 40, 25);
      output_button_val->box(FL_FLAT_BOX);
      output_button_val->color((Fl_Color)23);
      output_button_val->selection_color((Fl_Color)80);
      if(JWM_VERSION<230)o->hide();
    } // Fl_Value_Output* output_button_val
    { clock_button_menu = new Fl_Output(215, 65, 25, 25, gettext("Menu"));
      clock_button_menu->tooltip(gettext("The root menu the Clock is tied to"));
      clock_button_menu->box(FL_FLAT_BOX);
      clock_button_menu->color((Fl_Color)55);
      clock_button_menu->deactivate();
    } // Fl_Output* clock_button_menu
    { clock_menu_conf_gear = new Fl_Button(245, 65, 25, 25);
      clock_menu_conf_gear->tooltip(gettext("Configure the menu"));
      clock_menu_conf_gear->box(FL_FLAT_BOX);
      clock_menu_conf_gear->color((Fl_Color)23);
      clock_menu_conf_gear->image(image_gear16);
      clock_menu_conf_gear->callback((Fl_Callback*)cb_clock_menu_conf_gear);
    } // Fl_Button* clock_menu_conf_gear
    { clock_prog = new Fl_Input(120, 95, 120, 25, gettext("Program"));
      clock_prog->tooltip(gettext("Execute a command."));
      clock_prog->box(FL_FLAT_BOX);
      clock_prog->color((Fl_Color)55);
      clock_prog->selection_color(FL_DARK_RED);
      clock_prog->when(FL_WHEN_CHANGED);
      clock_prog->deactivate();
      current_clock_text();
    } // Fl_Input* clock_prog
    { clock_prog_conf_gear = new Fl_Button(245, 95, 25, 25);
      clock_prog_conf_gear->tooltip(gettext("Configure the program"));
      clock_prog_conf_gear->box(FL_FLAT_BOX);
      clock_prog_conf_gear->color((Fl_Color)23);
      clock_prog_conf_gear->image(image_gear16);
      clock_prog_conf_gear->callback((Fl_Callback*)cb_clock_prog_conf_gear);
    } // Fl_Button* clock_prog_conf_gear
    { Fl_Button* o = new Fl_Button(295, 125, 55, 25, gettext("OK"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)61);
      o->labelcolor(FL_BACKGROUND2_COLOR);
      o->callback((Fl_Callback*)cb_OK6);
    } // Fl_Button* o
    { Fl_Button* o = clock_fg = new Fl_Button(275, 20, 75, 30, gettext("Foreground"));
      clock_fg->tooltip(gettext("Optional, this will use the Panel colors if not specified"));
      clock_fg->box(FL_FLAT_BOX);
      clock_fg->color((Fl_Color)23);
      clock_fg->callback((Fl_Callback*)cb_clock_fg);
      clock_fg->align(Fl_Align(FL_ALIGN_TOP));
      if((JWM_VERSION>232)&&(JWM_VERSION<235)){o->hide();}
      else{getColorFromItem(false,"ClockStyle","Foreground",o);}
    } // Fl_Button* clock_fg
    { Fl_Button* o = new Fl_Button(275, 70, 75, 30, gettext("Background"));
      o->tooltip(gettext("Optional, this will use the Panel colors if not specified"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)23);
      o->callback((Fl_Callback*)cb_Background);
      o->align(Fl_Align(FL_ALIGN_TOP));
      if((JWM_VERSION>232)&&(JWM_VERSION<235)){o->hide();}
      else{getColorFromItem(false,"ClockStyle","Background",o);}
    } // Fl_Button* o
    startup(o,jsm_panel_xpm);
    conf_clock_window->xclass("jsm-panel");
    conf_clock_window->end();
  } // Fl_Double_Window* conf_clock_window
  return conf_clock_window;
}

Fl_Double_Window* PanelUI::config_indicator_window() {
  { Fl_Double_Window* o = conf_indicator_window = new Fl_Double_Window(260, 215, gettext("Configure Indicators"));
    conf_indicator_window->user_data((void*)(this));
    { Fl_Button* o = new Fl_Button(195, 180, 60, 30, gettext("OK"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)61);
      o->selection_color((Fl_Color)59);
      o->labelcolor(FL_BACKGROUND2_COLOR);
      o->callback((Fl_Callback*)cb_OK7);
    } // Fl_Button* o
    { Fl_Browser* o = indicator_browser = new Fl_Browser(5, 5, 250, 170);
      indicator_browser->type(2);
      indicator_browser->box(FL_FLAT_BOX);
      indicator_browser->selection_color((Fl_Color)80);
      getIndicators(o);
    } // Fl_Browser* indicator_browser
    { Fl_Button* o = new Fl_Button(50, 180, 30, 30, gettext("-"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)23);
      o->labelfont(1);
      o->labelsize(34);
      o->callback((Fl_Callback*)cb_5);
    } // Fl_Button* o
    { Fl_Button* o = new Fl_Button(5, 180, 30, 30, gettext("@+"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)23);
      o->callback((Fl_Callback*)cb_6);
    } // Fl_Button* o
    { Fl_Value_Input* o = new Fl_Value_Input(150, 180, 25, 25, gettext("Width"));
      o->tooltip(gettext("The maximum width of an item contained in the dock. This defaults to the widt\
h or height of the tray (whichever is smaller)."));
      o->box(FL_FLAT_BOX);
      o->selection_color(FL_DARK_RED);
      o->callback((Fl_Callback*)cb_Width1);
      o->value(getItemW(BUTTON_NUM));
    } // Fl_Value_Input* o
    startup(o,jsm_panel_xpm);
    conf_indicator_window->xclass("jsm-panel");
    conf_indicator_window->end();
  } // Fl_Double_Window* conf_indicator_window
  return conf_indicator_window;
}

Fl_Double_Window* PanelUI::configure_manually_window(std::string icon) {
  { Fl_Double_Window* o = conf_manual_window = new Fl_Double_Window(360, 195, gettext("Manual Editing"));
    conf_manual_window->user_data((void*)(this));
    { Fl_Input* o = manually_in = new Fl_Input(10, 10, 340, 30);
      manually_in->box(FL_FLAT_BOX);
      o->value();
    } // Fl_Input* manually_in
    { Fl_Button* o = new Fl_Button(300, 165, 50, 25, gettext("OK"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)61);
      o->labelcolor(FL_BACKGROUND2_COLOR);
      o->callback((Fl_Callback*)cb_OK8);
    } // Fl_Button* o
    { label_input = new Fl_Input(105, 90, 245, 30, gettext("Label"));
      label_input->tooltip(gettext("The text that pops up when you hover"));
      label_input->box(FL_FLAT_BOX);
      label_input->selection_color((Fl_Color)80);
    } // Fl_Input* label_input
    { Fl_Button* o = new Fl_Button(10, 45, 50, 50);
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)23);
      o->callback((Fl_Callback*)cb_7);
      if(icon.compare("")!=0)makeWidgetIcon(icon,o,48);
    } // Fl_Button* o
    { hid_in = new Fl_Input(10, 10, 340, 30);
      hid_in->box(FL_FLAT_BOX);
      hid_in->hide();
    } // Fl_Input* hid_in
    { icon_file = new Fl_Input(105, 50, 245, 30, gettext("Icon"));
      icon_file->box(FL_FLAT_BOX);
    } // Fl_Input* icon_file
    { tooltip_label = new Fl_Input(105, 130, 245, 30, gettext("Tooltip"));
      tooltip_label->tooltip(gettext("The text that pops up when you hover"));
      tooltip_label->box(FL_FLAT_BOX);
      tooltip_label->selection_color((Fl_Color)80);
    } // Fl_Input* tooltip_label
    startup(o,jsm_panel_xpm);
    conf_manual_window->xclass("jsm-panel");
    conf_manual_window->end();
  } // Fl_Double_Window* conf_manual_window
  return conf_manual_window;
}

Fl_Double_Window* PanelUI::config_menu_window(std::string file) {
  { Fl_Double_Window* o = conf_menu_window = new Fl_Double_Window(285, 150, gettext("Configure Menu"));
    conf_menu_window->labelfont(14);
    conf_menu_window->user_data((void*)(this));
    { Fl_Button* o = new Fl_Button(220, 120, 60, 25, gettext("OK"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)69);
      o->labelfont(1);
      o->labelcolor(FL_BACKGROUND2_COLOR);
      o->callback((Fl_Callback*)cb_OK9);
    } // Fl_Button* o
    { app_menu = new Fl_Input(45, 5, 155, 25, gettext("Label"));
      app_menu->tooltip(gettext("Text for the Button that shows the menu"));
      app_menu->box(FL_FLAT_BOX);
      app_menu->color((Fl_Color)55);
      app_menu->selection_color(FL_DARK_RED);
      app_menu->when(FL_WHEN_CHANGED);
    } // Fl_Input* app_menu
    { Fl_Button* o = icon_view = new Fl_Button(210, 10, 50, 50);
      icon_view->tooltip(gettext("Choose an Icon"));
      icon_view->box(FL_FLAT_BOX);
      icon_view->color((Fl_Color)23);
      icon_view->callback((Fl_Callback*)cb_icon_view);
      icon_view->align(Fl_Align(644));
      if(file.compare("")!=0)makeWidgetIcon(file,o,48);
    } // Fl_Button* icon_view
    { hidden_icon_name = new Fl_Input(45, 35, 155, 25, gettext("Icon"));
      hidden_icon_name->tooltip(gettext("The icon file name"));
      hidden_icon_name->box(FL_FLAT_BOX);
      hidden_icon_name->color((Fl_Color)23);
    } // Fl_Input* hidden_icon_name
    { tester = new Fl_Output(45, 70, 25, 25, gettext("Menu"));
      tester->tooltip(gettext("The root menu the button is tied to"));
      tester->box(FL_FLAT_BOX);
      tester->color((Fl_Color)55);
    } // Fl_Output* tester
    { Fl_Button* o = new Fl_Button(75, 65, 30, 30);
      o->tooltip(gettext("Configure the menu items"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)23);
      o->image(image_gear16);
      o->callback((Fl_Callback*)cb_8);
    } // Fl_Button* o
    startup(o,jsm_panel_xpm);
    conf_menu_window->xclass("jsm-panel");
    conf_menu_window->end();
  } // Fl_Double_Window* conf_menu_window
  return conf_menu_window;
}

Fl_Double_Window* PanelUI::config_swallow_window(int input_num) {
  BUTTON_NUM=input_num;
  { Fl_Double_Window* o = conf_swallow_window = new Fl_Double_Window(465, 70, gettext("Configure Swallowed Application"));
    conf_swallow_window->user_data((void*)(this));
    { Fl_Button* o = new Fl_Button(395, 40, 60, 25, gettext("OK"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)61);
      o->labelcolor(FL_BACKGROUND2_COLOR);
      o->callback((Fl_Callback*)cb_OKa);
    } // Fl_Button* o
    { Fl_Input* o = swallow_name = new Fl_Input(85, 40, 155, 25, gettext("App Name"));
      swallow_name->tooltip(gettext("This MUST be the same as the executable\'s name"));
      swallow_name->box(FL_FLAT_BOX);
      swallow_name->color((Fl_Color)53);
      swallow_name->selection_color(FL_DARK_RED);
      swallow_name->callback((Fl_Callback*)cb_swallow_name);
      swallow_name->when(FL_WHEN_CHANGED);
      std::string name = getElementAttribute(currentPanel(),"Tray","Swallow","name");
      o->value(name.c_str());
    } // Fl_Input* swallow_name
    { Fl_Input* o = swallow_config = new Fl_Input(85, 10, 370, 25, gettext("Configure"));
      swallow_config->box(FL_FLAT_BOX);
      swallow_config->color((Fl_Color)53);
      swallow_config->selection_color(FL_DARK_RED);
      swallow_config->callback((Fl_Callback*)cb_swallow_config);
      swallow_config->when(FL_WHEN_CHANGED);
      std::string name=getElementText(currentPanel(),"Tray","Swallow");
      o->value(name.c_str());
    } // Fl_Input* swallow_config
    { Fl_Value_Input* o = new Fl_Value_Input(285, 40, 25, 25, gettext("Width"));
      o->tooltip(gettext("The  width of the swallowed program. 0 indicates\nthat the width  should  be \
 determined\nfrom  the  tray  and size requested from the\nprogram. 0 is the d\
efault."));
      o->box(FL_FLAT_BOX);
      o->selection_color(FL_DARK_RED);
      o->callback((Fl_Callback*)cb_Width2);
      o->value(getItemW(BUTTON_NUM));
    } // Fl_Value_Input* o
    { Fl_Value_Input* o = new Fl_Value_Input(365, 40, 25, 25, gettext("Height"));
      o->tooltip(gettext("The  height of the swallowed program. 0 indicates\nthat the height  should  b\
e  determined\nfrom  the  tray  and size requested from the\nprogram. 0 is the\
 default."));
      o->box(FL_FLAT_BOX);
      o->selection_color(FL_DARK_RED);
      o->callback((Fl_Callback*)cb_Height2);
      o->value(getItemH(BUTTON_NUM));
    } // Fl_Value_Input* o
    startup(o,jsm_panel_xpm);
    conf_swallow_window->xclass("jsm-panel");
    conf_swallow_window->end();
  } // Fl_Double_Window* conf_swallow_window
  return conf_swallow_window;
}

Fl_Double_Window* PanelUI::config_switcher_window() {
  { Fl_Double_Window* o = conf_switcher = new Fl_Double_Window(215, 200, gettext("Configure Switcher"));
    conf_switcher->user_data((void*)(this));
    { Fl_Button* o = new Fl_Button(150, 165, 60, 30, gettext("OK"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)61);
      o->selection_color((Fl_Color)59);
      o->labelcolor(FL_BACKGROUND2_COLOR);
      o->callback((Fl_Callback*)cb_OKb);
    } // Fl_Button* o
    { Fl_Box* o = new Fl_Box(85, 50, 90, 30, gettext("Foreground"));
      o->box(FL_FLAT_BOX);
      if(style_gone()){o->hide();}
    } // Fl_Box* o
    { Fl_Box* o = new Fl_Box(90, 100, 90, 30, gettext("Background"));
      o->box(FL_FLAT_BOX);
      if(style_gone()){o->hide();}
    } // Fl_Box* o
    { Fl_Button* o = a_fg = new Fl_Button(55, 75, 75, 30, gettext("Active"));
      a_fg->box(FL_FLAT_BOX);
      a_fg->color((Fl_Color)23);
      a_fg->callback((Fl_Callback*)cb_a_fg);
      a_fg->align(Fl_Align(FL_ALIGN_LEFT));
      if((JWM_VERSION>232)||(JWM_VERSION<236)){o->hide();}
      else{getColorFromItem(true,"PagerStyle","Foreground",o);}
    } // Fl_Button* a_fg
    { Fl_Button* o = a_bg = new Fl_Button(55, 125, 75, 30, gettext("Active"));
      a_bg->box(FL_FLAT_BOX);
      a_bg->color((Fl_Color)23);
      a_bg->callback((Fl_Callback*)cb_a_bg);
      a_bg->align(Fl_Align(FL_ALIGN_LEFT));
      if((JWM_VERSION>232)||(JWM_VERSION<236)){o->hide();}
      else{getColorFromItem(true,"PagerStyle","Background",o);}
    } // Fl_Button* a_bg
    { Fl_Button* o = t_fg = new Fl_Button(135, 75, 75, 30);
      t_fg->box(FL_FLAT_BOX);
      t_fg->color((Fl_Color)23);
      t_fg->callback((Fl_Callback*)cb_t_fg);
      if((JWM_VERSION>232)||(JWM_VERSION<236)){o->hide();}
      else{getColorFromItem(false,"PagerStyle","Foreground",o);}
    } // Fl_Button* t_fg
    { Fl_Button* o = t_bg = new Fl_Button(135, 125, 75, 30);
      t_bg->box(FL_FLAT_BOX);
      t_bg->color((Fl_Color)23);
      t_bg->callback((Fl_Callback*)cb_t_bg);
      if((JWM_VERSION>232)||(JWM_VERSION<236)){o->hide();}
      else{getColorFromItem(false,"PagerStyle","Background",o);}
    } // Fl_Button* t_bg
    { Fl_Value_Input* o = num_desktop_w = new Fl_Value_Input(190, 1, 20, 24, gettext("Number of Desktops Wide"));
      num_desktop_w->box(FL_FLAT_BOX);
      num_desktop_w->color((Fl_Color)53);
      num_desktop_w->callback((Fl_Callback*)cb_num_desktop_w);
      int width = getIntAttribute("Desktops","width");
      o->value(width);
    } // Fl_Value_Input* num_desktop_w
    { Fl_Value_Input* o = num_desktop_h = new Fl_Value_Input(190, 30, 20, 25, gettext("Number of Desktops High "));
      num_desktop_h->box(FL_FLAT_BOX);
      num_desktop_h->color((Fl_Color)53);
      num_desktop_h->callback((Fl_Callback*)cb_num_desktop_h);
      int height = getIntAttribute("Desktops","height");
      o->value(height);
    } // Fl_Value_Input* num_desktop_h
    { Fl_Check_Button* o = new Fl_Check_Button(35, 165, 75, 30, gettext("Labled"));
      o->tooltip(gettext("Determines if the pager has text labels. Default is false."));
      o->down_box(FL_GTK_DOWN_BOX);
      o->color(FL_BACKGROUND2_COLOR);
      o->selection_color(FL_GREEN);
      o->callback((Fl_Callback*)cb_Labled);
      if((JWM_VERSION<236)){o->hide();}
      else{o->value(taskLabeled(BUTTON_NUM));}
    } // Fl_Check_Button* o
    startup(o,jsm_panel_xpm);
    conf_switcher->xclass("jsm-panel");
    conf_switcher->end();
  } // Fl_Double_Window* conf_switcher
  return conf_switcher;
}

Fl_Double_Window* PanelUI::make_shortcut_window() {
  { Fl_Double_Window* o = shortcut_window = new Fl_Double_Window(305, 335, gettext("Choose an application to add"));
    shortcut_window->user_data((void*)(this));
    { Fl_Button* o = new Fl_Button(5, 5, 105, 25, gettext("Application"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)23);
      o->selection_color((Fl_Color)40);
      o->callback((Fl_Callback*)cb_Application);
    } // Fl_Button* o
    { app_command = new Fl_Input(115, 5, 185, 25);
      app_command->tooltip(gettext("You can add arguments here"));
      app_command->box(FL_FLAT_BOX);
      app_command->selection_color((Fl_Color)80);
      app_command->callback((Fl_Callback*)cb_app_command);
      app_command->align(Fl_Align(FL_ALIGN_RIGHT));
      app_command->when(FL_WHEN_ENTER_KEY);
    } // Fl_Input* app_command
    { tooltip = new Fl_Input(115, 35, 185, 25, gettext("Tooltip Label"));
      tooltip->box(FL_FLAT_BOX);
      tooltip->selection_color((Fl_Color)80);
    } // Fl_Input* tooltip
    { Fl_Button* o = new Fl_Button(5, 300, 30, 30, gettext("@+"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)23);
      o->selection_color((Fl_Color)40);
      o->callback((Fl_Callback*)cb_9);
    } // Fl_Button* o
    { ok_button = new Fl_Button(250, 300, 50, 30, gettext("SAVE"));
      ok_button->tooltip(gettext("Write to configuration file"));
      ok_button->box(FL_FLAT_BOX);
      ok_button->color((Fl_Color)61);
      ok_button->selection_color((Fl_Color)59);
      ok_button->labelcolor((Fl_Color)55);
      ok_button->callback((Fl_Callback*)cb_ok_button);
    } // Fl_Button* ok_button
    { shortcut_border = new Fl_Check_Button(10, 355, 265, 25, gettext("Show a Border around the Button?"));
      shortcut_border->tooltip(gettext("The button you are adding can be borderless, if you like"));
      shortcut_border->box(FL_FLAT_BOX);
      shortcut_border->down_box(FL_GTK_DOWN_BOX);
      shortcut_border->selection_color(FL_DARK_GREEN);
      shortcut_border->hide();
      shortcut_border->deactivate();
    } // Fl_Check_Button* shortcut_border
    { Fl_Browser* o = shortcut_browser = new Fl_Browser(5, 115, 295, 180, gettext("Current Panel Buttons"));
      shortcut_browser->type(2);
      shortcut_browser->box(FL_FLAT_BOX);
      shortcut_browser->align(Fl_Align(FL_ALIGN_TOP_RIGHT));
      shortcut_browser->when(FL_WHEN_NEVER);
      getShortcuts(o);
    } // Fl_Browser* shortcut_browser
    { Fl_Button* o = new Fl_Button(40, 300, 30, 30, gettext("-"));
      o->tooltip(gettext("Remove application launcher"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)23);
      o->selection_color((Fl_Color)40);
      o->labelfont(1);
      o->labelsize(45);
      o->callback((Fl_Callback*)cb_a);
    } // Fl_Button* o
    { icon_name = new Fl_Box(115, 65, 185, 25, gettext("Icon File Name"));
      icon_name->box(FL_FLAT_BOX);
      icon_name->color(FL_BACKGROUND2_COLOR);
    } // Fl_Box* icon_name
    { app_icon_box = new Fl_Button(5, 55, 55, 55);
      app_icon_box->box(FL_FLAT_BOX);
      app_icon_box->color((Fl_Color)23);
      app_icon_box->selection_color((Fl_Color)41);
      app_icon_box->callback((Fl_Callback*)cb_app_icon_box);
    } // Fl_Button* app_icon_box
    { Fl_Button* o = new Fl_Button(185, 300, 60, 30, gettext("CLOSE"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)80);
      o->selection_color((Fl_Color)64);
      o->labelcolor(FL_BACKGROUND2_COLOR);
      o->callback((Fl_Callback*)cb_CLOSE4);
    } // Fl_Button* o
    startup(o,jsm_panel_xpm);
    shortcut_window->xclass("jsm-panel");
    shortcut_window->end();
    shortcut_window->resizable(shortcut_window);
  } // Fl_Double_Window* shortcut_window
  return shortcut_window;
}

Fl_Double_Window* PanelUI::new_panel_window() {
  { Fl_Double_Window* o = new_panel = new Fl_Double_Window(235, 85, gettext("Add a Panel"));
    new_panel->user_data((void*)(this));
    { Fl_Box* o = new Fl_Box(0, 0, 240, 50, gettext("Only Four Panels are supported"));
      o->align(Fl_Align(FL_ALIGN_WRAP));
    } // Fl_Box* o
    { Fl_Button* o = new Fl_Button(85, 45, 55, 30, gettext("OK"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)62);
      o->selection_color((Fl_Color)58);
      o->labelcolor(FL_BACKGROUND2_COLOR);
      o->callback((Fl_Callback*)cb_OKc);
    } // Fl_Button* o
    startup(o,jsm_panel_xpm);
    new_panel->xclass("jsm-panel");
    new_panel->end();
  } // Fl_Double_Window* new_panel
  return new_panel;
}

Fl_Double_Window* PanelUI::no_config() {
  Fl_Double_Window* w;
  { Fl_Double_Window* o = new Fl_Double_Window(190, 35, gettext("Nothing to Configure"));
    w = o;
    o->user_data((void*)(this));
    { new Fl_Box(5, 5, 175, 20, gettext("Nothing to Configure"));
    } // Fl_Box* o
    startup(o,jsm_panel_xpm);
    o->xclass("jsm-panel");
    o->end();
  } // Fl_Double_Window* o
  return w;
}

void PanelUI::add_item() {
  unsigned int line = panel_items_browser->value();
  BUTTON_NUM=app_browser->value();
  switch (line){
    case 1:
      //Menu
      add_new_menu();
      break;
    case 2:
      //Clock
      addClock();
      config_clock_window()->show();
      break;
    case 3:
      //Desktop Switcher
      addPager();
      config_switcher_window()->show();
      break;
    case 4:
      //Indicators
      config_indicator_window()->show();
      add_indicator()->show();
      break;
    case 5:
      //Running App List
      addTaskList();
      config_applist_window()->show();
      break;
    case 6:
      //Launcher
      make_shortcut_window()->show();
      break;
    case 7:
      //Swallow
      //app.
      std::cout<<"swallow"<<std::endl;
      break;
    case 8:
      add_spacer()->show();
      //Spacer
      break;
  }
  populateApps(app_browser);
}

void PanelUI::cancel_button() {
  setJSMItem("panel","1");
  cancel();
  panel_window->hide();
  //UI ux;ux.showSettings();
}

void PanelUI::change_manual_item(std::string input, std::string old_input) {
  std::string tooltip;
  const char* TT=tooltip_label->value();
  if(TT!=NULL)tooltip=TT;
  std::string icon;
  const char* IC = icon_file->value();
  if(IC!=NULL)icon=IC;
  std::string label;
  const char* LBL=label_input->value();
  if(LBL!=NULL)label=LBL;
  switchButton(old_input,input,tooltip,icon,label);
}

void PanelUI::change_panel_position(std::string position) {
  panel_position(position);
  std::string vval=getElementAttribute(currentPanel(),"Tray","valign");
  if(vval.compare("")!=0){
    valign->value(vval.c_str());
    halign->redraw();
  }
  std::string hval=getElementAttribute(currentPanel(),"Tray","halign");
  if(hval.compare("")!=0){
    halign->value(hval.c_str());
    halign->redraw();
  }
}

void PanelUI::change_clock(std::string clockFMT) {
  changeClock(clockFMT);
  std::string result = getClock();
  //clock_displayer->redraw_label();
  clock_displayer->value(result.c_str());//copy_label(result.c_str());
  clock_displayer->redraw();
}

void PanelUI::coordinate(const char* xy, Fl_Value_Input *o, int get1_set2) {
  if(get1_set2 == 1){
    int x = getCoordinate(xy);
    o->value(x);
  }
  else if (get1_set2 == 2){
    int value=o->value();
    setCoordinate(xy,value);
  }
  else{
  std::cerr<<"coordinate() function called incorrectly"<<std::endl;
  }
}

void PanelUI::config_Item(std::string whichItem) {
  std::string RUNNINGAPPLIST=gettext("Running App List");
  std::string INDICATORS=gettext("Indicators");
  std::string CLOCK=gettext("Clock");
  std::string SWALLOW=gettext("Swallow");
  std::string MENU=gettext("Menu");
  std::string DESKSWITCH=gettext("Desktop Switcher");
  std::string LAUNCHER=gettext("Launcher");
  std::string rootMenu="root:";
  std::string SPACER=gettext("Spacer");
  int vernum=JWMversion();
  int whatone=app_browser->value();
  BUTTON_NUM=app_browser->value();
  unsigned found = whichItem.find(MENU);
  if(found<whichItem.length()){
    if(vernum<230){
      std::string temp=whichItem;
      if(temp.length()>MENU.length()+1){temp=temp.erase(0,MENU.length()+1);}
      std::string icon = getImageMenu(temp);
      config_menu_window(icon)->show();
      std::string temptest=temp;
      if(temptest.length()>rootMenu.length()){temptest=temptest.erase(0,rootMenu.length());}
      tester->value(temptest.c_str());
      std::string l= getLabelMenu(temp);
      hidden_icon_name->value(icon.c_str());
      app_menu->value(l.c_str());
    }
    else{
      config_button_window(whatone)->show();
    }
  }
  else{
    if(whichItem.compare(DESKSWITCH)==0){config_switcher_window()->show();}
    else if(whichItem.compare(RUNNINGAPPLIST)==0){config_applist_window()->show();}
    else if(whichItem.compare(INDICATORS)==0){config_indicator_window()->show();}
    else if(whichItem.compare(CLOCK)==0){config_clock_window()->show();}
    else if(whichItem.find(LAUNCHER)<whichItem.length()){
      if(vernum<230){
        std::string temp=whichItem;
        if(temp.length()>LAUNCHER.length()+1){temp=temp.erase(0,LAUNCHER.length()+1);}
        std::string icon = getImageMenu(temp);
        configure_manually_window(icon)->show();
        icon_file->value(icon.c_str());
        std::string l= getLabelMenu(temp);
        manually_in->value(temp.c_str());
      }
      else{
        config_button_window(whatone)->show();
      }
    }
    else if(whichItem.compare(SPACER)==0){spacer_config()->show();}
    else if(whichItem.compare("")==0){no_config()->show();}
    else if(whichItem.find(SWALLOW)<whichItem.length()){config_swallow_window(whatone)->show();}
    else{
      configure_manually_window("")->show();
      manually_in->value(whichItem.c_str());
     }
  }
}

void PanelUI::current_clock_text() {
  if(JWMversion()>230)return;
  std::string val = getClockText(BUTTON_NUM);
  if(val.find("exec:")<val.length()){
    //TODO erase it
    clock_prog->value(val.c_str());
    clock_button_menu->value("");
  }
  else if(val.find("root:")<val.length()){
    
    clock_prog->value("");
    val=val.substr(5,std::string::npos);
    clock_button_menu->value(val.c_str());
  }
  clock_prog->redraw();
  clock_button_menu->redraw();
}

void PanelUI::displayAPPicon(std::string filename,Fl_Widget* widget) {
  makeWidgetIcon(filename,widget,48);
  //widget->redraw();
}

void PanelUI::get_clock_button_stuff(int button) {
  get_button_stuff(button,clock_prog,clock_button_menu,output_button_val);
}

void PanelUI::get_button_stuff(int button) {
  get_button_stuff(button,button_prog,button_menu,button_val);
}

void PanelUI::get_button_stuff(int button,Fl_Input *input_prog,Fl_Input *input_menu,Fl_Value_Output *mouse_button_current) {
  std::string num;
  mouse_button_current->value(button);
  switch(button){
   case 1:
     num="1";break;
   case 2:
     num="2";break;
   case 3:
     num="3";break;
   default:return;
  }
  int whichbutton=app_browser->value();
  std::string text = menuButtonText(getMenuButtonByMask(num,whichbutton));
  if(text.compare("")==0)return;
  Fl_Input *o=NULL;
  if(text.find("exec:")==0){
    o=input_prog;
    input_menu->deactivate();
  }
  if(text.find("root:")==0){
    o=input_menu;
    input_prog->deactivate();
    text=text.substr(5,std::string::npos);
  }
  
  if(o!=NULL){
    o->value(text.c_str());
    o->activate();
  }
}

void PanelUI::get_tray_element_attrib(Fl_Input *o, std::string attribute,int num) {
  std::string val=getAttribute(getTraySubElement(num),attribute);
  o->value(val.c_str());
  o->redraw();
}

void PanelUI::Menu_CB(int num) {
  std::string LABEL = Menu_Label(num);
  panel_chooser->copy_label(LABEL.c_str());
  panel_chooser->redraw();
  populateApps(app_browser);
  //panel_window->hide();
}

void PanelUI::move_up() {
  unsigned int appLine=app_browser->value();
  unsigned int size =app_browser->size();
  if(appLine <= size && appLine !=0){
    moveUp(appLine);
    populateApps(app_browser);
  }
  if(appLine-1 != 0 )app_browser->select(appLine-1);
  else app_browser->select(1);
}

void PanelUI::move_down() {
  unsigned int appLine=app_browser->value();
  unsigned int size =app_browser->size();
  if(appLine <= size && appLine !=0){
    moveDown(appLine);
    populateApps(app_browser);
  }
  size =app_browser->size();
  if(appLine+1 < size )app_browser->select(appLine+1);
  else app_browser->select(size);
}

void PanelUI::ok() {
  saveChanges();
  exit(0);
  /*panel_window->hide();
  UI ux;ux.showSettings();*/
}

void PanelUI::remove_indicator() {
  unsigned int line_item = indicator_browser->value();
  std::string item = indicator_browser->text(line_item);
  //std::cout<<item<<std::endl;
  if(item.compare("Network")==0){deleteNetworkMonitor();}
  else if(item.compare("Battery")==0){deleteBattery();}
  else if(item.compare("Volume")==0){deleteVolume();}
}

void PanelUI::save_user_clock() {
  const char* result = clock_style->value();
  if(result==NULL){return;}
  changeClock(result);
  clock_config_window->hide();
}

void PanelUI::save_traybutton() {
  std::string MENU,PROG,ICON,LABEL,MASK;
  const char* testMenu = button_menu->value();
  if(testMenu!=NULL){MENU=testMenu;}
  const char* testProg = button_prog->value();
  if(testProg!=NULL){PROG=testProg;}
  const char* icon = button_icon_name->value();
  if(icon!=NULL){ICON=icon;}
  const char* newLabel = button_label->value();
  if(newLabel!=NULL){LABEL=newLabel;}
  int masker=button_val->value();
  if(masker>0){MASK=linuxcommon::convert_num_to_string(masker);}
  int whichbutton=app_browser->value();
  editButton(whichbutton,MENU,PROG,ICON,LABEL,MASK);
}

Fl_Double_Window* PanelUI::spacer_config() {
  { conf_spacer_win = new Fl_Double_Window(245, 50, gettext("Spacer"));
    conf_spacer_win->user_data((void*)(this));
    { Fl_Button* o = new Fl_Button(175, 10, 60, 25, gettext("OK"));
      o->box(FL_FLAT_BOX);
      o->color((Fl_Color)61);
      o->selection_color((Fl_Color)59);
      o->labelcolor(FL_BACKGROUND2_COLOR);
      o->callback((Fl_Callback*)cb_OKd);
    } // Fl_Button* o
    { Fl_Value_Input* o = new Fl_Value_Input(55, 10, 25, 25, gettext("Width"));
      o->tooltip(gettext("The width of the spacer (0 to fill all available space).  0 is the default."));
      o->box(FL_FLAT_BOX);
      o->callback((Fl_Callback*)cb_Width3);
      o->value(getItemW(BUTTON_NUM));
    } // Fl_Value_Input* o
    { Fl_Value_Input* o = new Fl_Value_Input(135, 10, 25, 25, gettext("Height"));
      o->tooltip(gettext("The height of the spacer (0 to fill all available space).  0 is the default."));
      o->box(FL_FLAT_BOX);
      o->selection_color(FL_DARK_RED);
      o->callback((Fl_Callback*)cb_Height3);
      o->value(getItemH(BUTTON_NUM));
    } // Fl_Value_Input* o
    conf_spacer_win->end();
  } // Fl_Double_Window* conf_spacer_win
  return conf_spacer_win;
}

inline void PanelUI::zone_cb(Fl_Menu_*o, void* v) {
  zone_check(o);
}

void PanelUI::zone_check(Fl_Menu_* o) {
  debug_out("zone_check");
  std::string timeZone;
  timeZone+=o->text();
  tz_out->value(timeZone.c_str());
  if(!setElementAttribute(currentPanel(),"Tray","Clock","zone",timeZone)){
    errorOUT("Could not change JWM time zone");
  }
}

void PanelUI::zoneMenu(Fl_Menu_Button *o) {
  std::vector<std::string> zoneVec=zoneVector();
  for( std::vector<std::string>::iterator it = zoneVec.begin();
  it!=zoneVec.end();
  ++it){
    std::string tmp=*it;
    o->add(tmp.c_str(), 0,(Fl_Callback*)PanelUI::cb_zone);
  }
}

void PanelUI::cb_zone(Fl_Menu_* o,void* v) {
  debug_out("cb_zone()");
  ((PanelUI*)(o->parent()->user_data()))->zone_cb(o,v);
}
